<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vd="clr-namespace:GemstonesBusinessManagementSystem.Validations"
    xmlns:local="clr-namespace:GemstonesBusinessManagementSystem.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions"
    xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
    xmlns:UserControls="clr-namespace:GemstonesBusinessManagementSystem.Resources.UserControls"
    xmlns:Models="clr-namespace:GemstonesBusinessManagementSystem.Models" 
    x:Class="GemstonesBusinessManagementSystem.Views.MainWindow"
    mc:Ignorable="d"
    Title="Phần mềm quản lý Tiệm vàng bạc đá quý"
    Height="830"
    Width="1500"
    x:Name="wdMain"
    ResizeMode="CanMinimize" 
    WindowStartupLocation="CenterScreen" 
    Background="#FFF7F8FC"
    DataContext="{StaticResource HomeVM}">
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="MouseDown">
            <i:InvokeCommandAction Command="{Binding HiddenGridChangeInfoCommand}"
                                   CommandParameter="{Binding ElementName=wdMain}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220" />
            <ColumnDefinition Width="10*" />
        </Grid.ColumnDefinitions>
        <Grid 
            x:Name="grdMenu" 
            Background="{StaticResource White}" 
            Grid.RowSpan="2">
            <Image 
                x:Name="imgStore"
                HorizontalAlignment="Center"
                Margin="0,50,0,0" 
                Width="50"
                Height="50" 
                VerticalAlignment="Top"/>
            <TextBlock
                x:Name="txbStoreName"
                DataContext="{StaticResource SettingVM}"
                Style="{StaticResource HeadingText2}" 
                HorizontalAlignment="Center" 
                Margin="0,100,0,0" 
                VerticalAlignment="Top"/>
            <ScrollViewer 
                Style="{StaticResource FavsScrollViewer}"
                VerticalScrollBarVisibility="Auto" 
                HorizontalScrollBarVisibility="Disabled" 
                Margin="0,160,0,0" 
                VerticalAlignment="Top"
                MaxHeight="560"  >
                <StackPanel>
                    <Button
                        x:Name="btnHome"
                        Uid="0"
                        Command="{Binding NavigateCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Style="{StaticResource NavigationButton}"
                        Padding="24,0,0,0"
                        Margin="0,0,0,5" >
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseMove">
                                <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                       CommandParameter="{Binding ElementName=btnHome}"/>
                            </i:EventTrigger>
                            <i:EventTrigger EventName="MouseLeave">
                                <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                       CommandParameter="{Binding ElementName=btnHome}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Kind="HomeOutline"
                                VerticalAlignment="Center" 
                                Width="24"
                                Height="24"/>
                            <TextBlock 
                                Text="Trang chủ"
                                FontSize="18"
                                Margin="10,0,0,0"/>
                        </StackPanel>
                    </Button>
                    <Expander 
                        x:Name="expStore"
                        Background="{StaticResource White}"
                        VerticalAlignment="Top" 
                        Margin="0,0,0,5"  >
                        <Expander.Header>
                            <StackPanel 
                                Orientation="Horizontal">
                                <materialDesign:PackIcon
                                    Kind="StoreOutline"
                                    Foreground="{StaticResource Black2}"
                                    VerticalAlignment="Center" 
                                    Width="24"
                                    Height="24"/>
                                <TextBlock
                                    Style="{StaticResource NavText}"
                                    Text="Cửa hàng"
                                    Margin="10,0,0,0" />
                            </StackPanel>
                        </Expander.Header>
                        <StackPanel>
                            <Button
                                x:Name="btnStore"
                                Uid="10"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Bán hàng" >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnStore}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnStore}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button
                                x:Name="btnService"
                                Uid="11"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Dịch vụ">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnService}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnService}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </StackPanel>
                    </Expander>
                    <Expander 
                        x:Name="expWarehouse"
                        Background="{StaticResource White}"
                        VerticalAlignment="Top" 
                        Margin="0,0,0,5"  >
                        <Expander.Header>
                            <StackPanel 
                                Orientation="Horizontal" >
                                <materialDesign:PackIcon
                                    Kind="Warehouse"
                                    Foreground="{StaticResource Black2}"
                                    VerticalAlignment="Center" 
                                    Width="24"
                                    Height="24"/>
                                <TextBlock
                                    Style="{StaticResource NavText}"
                                    Text="Kho hàng"
                                    Margin="10,0,0,0" />
                            </StackPanel>
                        </Expander.Header>
                        <StackPanel>
                            <Button
                                x:Name="btnStock"
                                Uid="20"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Tồn kho" >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnStock}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnStock}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button
                                x:Name="btnImport"
                                Uid="21"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Nhập hàng">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnImport}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnImport}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </StackPanel>
                    </Expander>
                    <Expander 
                        x:Name="expPartner"
                        Background="{StaticResource White}"
                        VerticalAlignment="Top" 
                        Margin="0,0,0,5"  >
                        <Expander.Header>
                            <StackPanel 
                                Orientation="Horizontal" >
                                <materialDesign:PackIcon
                                    Kind="AccountGroupOutline"
                                    Foreground="{StaticResource Black2}"
                                    VerticalAlignment="Center" 
                                    Width="24"
                                    Height="24"/>
                                <TextBlock
                                    Style="{StaticResource NavText}"
                                    Text="Đối tác"
                                    Margin="10,0,0,0" />
                            </StackPanel>
                        </Expander.Header>
                        <StackPanel>
                            <Button
                                x:Name="btnSupplier"
                                Uid="30"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Nhà cung cấp" >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnSupplier}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnSupplier}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button
                                x:Name="btnCustomer"
                                Uid="31"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Khách hàng">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnCustomer}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnCustomer}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </StackPanel>
                    </Expander>
                    <Expander 
                        x:Name="expManage"
                        Background="{StaticResource White}"
                        VerticalAlignment="Top" 
                        Margin="0,0,0,5" >
                        <Expander.Header>
                            <StackPanel 
                                Orientation="Horizontal" >
                                <materialDesign:PackIcon
                                    Kind="Hubspot"
                                    Foreground="{StaticResource Black2}"
                                    VerticalAlignment="Center" 
                                    Width="24"
                                    Height="24"/>
                                <TextBlock
                                    Style="{StaticResource NavText}"
                                    Text="Quản lý"
                                    Margin="10,0,0,0" />
                            </StackPanel>
                        </Expander.Header>
                        <StackPanel>
                            <Button
                                x:Name="btnEmployee"
                                Uid="40"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Nhân viên" >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnEmployee}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnEmployee}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button
                                x:Name="btnGoods"
                                Uid="41"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Hàng hóa">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}" 
                                                               CommandParameter="{Binding ElementName=btnGoods}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnGoods}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button
                                x:Name="btnServiceM"
                                Uid="42"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Dịch vụ">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnServiceM}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnServiceM}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </StackPanel>
                    </Expander>
                    <Expander 
                        x:Name="expReport"
                        Background="{StaticResource White}"
                        VerticalAlignment="Top" 
                        Margin="0,0,0,5" >
                        <Expander.Header>
                            <StackPanel 
                                Orientation="Horizontal" >
                                <materialDesign:PackIcon
                                    Kind="FileChartOutline"
                                    Foreground="{StaticResource Black2}"
                                    VerticalAlignment="Center" 
                                    Width="24"
                                    Height="24"/>
                                <TextBlock
                                    Style="{StaticResource NavText}"
                                    Text="Báo cáo"
                                    Margin="10,0,0,0" />
                            </StackPanel>
                        </Expander.Header>
                        <StackPanel>
                            <Button
                                x:Name="btnBillService"
                                Uid="50"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Phiếu dịch vụ" >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnBillService}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnBillService}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                            <Button
                                x:Name="btnRevenue"
                                Uid="51"
                                Command="{Binding NavigateCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource NavigationButton}"
                                Content="Doanh thu">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseMove">
                                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                               CommandParameter="{Binding ElementName=btnRevenue}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="MouseLeave">
                                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                               CommandParameter="{Binding ElementName=btnRevenue}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Button>
                        </StackPanel>
                    </Expander>
                    <Button
                        x:Name="btnSetting"
                        Uid="6"
                        Command="{Binding NavigateCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Style="{StaticResource NavigationButton}"
                        Padding="24,0,0,0"
                        Margin="0,0,0,5" >
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseMove">
                                <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                                       CommandParameter="{Binding ElementName=btnSetting}"/>
                            </i:EventTrigger>
                            <i:EventTrigger EventName="MouseLeave">
                                <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                                       CommandParameter="{Binding ElementName=btnSetting}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Kind="CogOutline"
                                VerticalAlignment="Center" 
                                Width="24"
                                Height="24"/>
                            <TextBlock 
                                Text="Cài đặt"
                                FontSize="18"
                                Margin="10,0,0,0"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </ScrollViewer>
            <Button
                x:Name="btnLogout"
                Command="{Binding LogOutCommand}"
                CommandParameter="{Binding ElementName=wdMain}"
                Style="{StaticResource NavigationButton}"
                Padding="0"
                Margin="0,0,0,20" 
                VerticalAlignment="Bottom" 
                HorizontalContentAlignment="Center"
                materialDesign:ButtonAssist.CornerRadius="4"
                Width="160" >
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseMove">
                        <i:InvokeCommandAction Command="{Binding GetUidCommand}"
                                               CommandParameter="{Binding ElementName=btnLogout}"/>
                    </i:EventTrigger>
                    <i:EventTrigger EventName="MouseLeave">
                        <i:InvokeCommandAction Command="{Binding MouseLeaveCommand}"
                                               CommandParameter="{Binding ElementName=btnLogout}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <StackPanel 
                    Orientation="Horizontal">
                    <materialDesign:PackIcon
                        Kind="LogoutVariant"
                        VerticalAlignment="Center" 
                        Width="28"
                        Height="28"/>
                    <TextBlock 
                        Text="Đăng xuất"
                        FontSize="20"
                        Margin="10,0,0,0"/>
                </StackPanel>
            </Button>
        </Grid>
        <Grid 
            Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="60" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid 
                VerticalAlignment="Bottom"
                Height="50"
                Margin="20,0">
                <TextBlock 
                    x:Name="txbTabName"
                    Style="{StaticResource HeadingText1}"
                    HorizontalAlignment="Left"
                    TextWrapping="Wrap"
                    VerticalAlignment="Center" 
                    Margin="0" />
                <StackPanel 
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">
                    <TextBlock 
                        x:Name="txbUsername"
                        HorizontalAlignment="Left"
                        TextWrapping="Wrap"
                        Text="Adminstrator"
                        VerticalAlignment="Center"
                        Foreground="{StaticResource Dark}"
                        FontSize="22" 
                        FontWeight="Bold"
                        MaxWidth="400"
                        Margin="0,0,20,0"
                        FlowDirection="RightToLeft" />
                    <Grid>
                        <Ellipse 
                            x:Name="imgAccount"
                            Height="50"
                            Width="50"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Cursor="Hand">
                            <Ellipse.Fill>
                                <ImageBrush ImageSource="/GemstonesBusinessManagementSystem;component/Resources/Images/avatar.jpg" />
                            </Ellipse.Fill>
                        </Ellipse>
                    </Grid>

                    <Button 
                        DataContext="{StaticResource SettingVM}"
                        ToolTip="Thay đổi thông tin"
                        Style="{StaticResource TransperantButton}"
                        Command="{Binding ClickAvatarCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        materialDesign:ButtonAssist.CornerRadius="50" 
                        materialDesign:ShadowAssist.ShadowDepth="Depth0"
                        Height="40"
                        Width="40">
                        <materialDesign:PackIcon
                            Kind="ChevronDown"
                            Height="34"
                            Width="34"
                            Foreground="{StaticResource Black2}" />
                    </Button>
                </StackPanel>
            </Grid>
            <Grid
                x:Name="grdHome"
                Visibility="Collapsed"
                DataContext="{StaticResource ReportVM}"
                Grid.Row="1"
                Margin="0,10,0,0">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadReportCommand}"
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="880"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>
                <Grid
                    Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="130"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <StackPanel 
                        Grid.Row="0"
                        Orientation="Horizontal"
                        Margin="20,0">
                        <Grid
                            Style="{StaticResource DropShadow2}"
                            Width="250">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Grid.RowSpan="4"
                                Panel.ZIndex="-1"/>
                            <TextBlock
                                Text="Doanh thu hôm nay"
                                Style="{StaticResource Text}"
                                HorizontalAlignment="Left"
                                FontSize="20" 
                                Margin="10,0,0,0"/>
                            <TextBlock 
                                Grid.Row="1"
                                Text="{Binding TodayRevenue}"
                                HorizontalAlignment="Left"
                                Margin="10,0,0,0" 
                                TextWrapping="Wrap" 
                                VerticalAlignment="Center" 
                                FontSize="24" 
                                FontWeight="Bold" 
                                Foreground="{DynamicResource Primary}" />
                            <Grid 
                                Grid.Row="2">
                                <materialDesign:PackIcon
                                    x:Name="icoIncreasing"
                                    Visibility="Hidden"
                                    Height="20"
                                    Width="20"
                                    Foreground="{StaticResource Success}"
                                    VerticalAlignment="Top"
                                    Kind="ArrowUpBold" 
                                    HorizontalAlignment="Left" 
                                    Margin="10,4,0,0"/>
                                <materialDesign:PackIcon
                                    x:Name="icoDecreasing"
                                    Visibility="Hidden"
                                    Height="20"
                                    Width="20"
                                    Foreground="{StaticResource Error}"
                                    VerticalAlignment="Top"
                                    Kind="ArrowDownBold" 
                                    HorizontalAlignment="Left" 
                                    Margin="10,4,0,0"/>
                                <TextBlock
                                    x:Name="txbIncreasingPercent"
                                    Text="{Binding IncreasingPercent}"
                                    HorizontalAlignment="Left"
                                    Margin="35,0,0,0"
                                    TextWrapping="Wrap"
                                    VerticalAlignment="Top"
                                    FontSize="20" 
                                    FontWeight="Bold" 
                                    Foreground="{DynamicResource Success}" />
                            </Grid>
                        </Grid>
                        <Grid
                            Margin="45,0,0,0" 
                            Style="{StaticResource DropShadow2}"
                            Width="250">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Grid.RowSpan="4"
                                Panel.ZIndex="-1"/>
                            <TextBlock
                                Text="Chi tiêu hôm nay"
                                Style="{StaticResource Text}"
                                HorizontalAlignment="Left"
                                FontSize="20" 
                                Margin="10,0,0,0"/>
                            <TextBlock 
                                Grid.Row="1"
                                Text="{Binding TodaySpend}"
                                HorizontalAlignment="Left"
                                Margin="10,0,0,0" 
                                TextWrapping="Wrap" 
                                VerticalAlignment="Center" 
                                FontSize="24" 
                                FontWeight="Bold" 
                                Foreground="{DynamicResource Primary}" />
                        </Grid>
                        <Grid
                            Style="{StaticResource DropShadow2}"
                            Margin="45,0,0,0"
                            Width="250">
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Grid.RowSpan="4"
                                Panel.ZIndex="-1"/>
                            <TextBlock
                                Text="Số đơn hàng hôm nay"
                                Style="{StaticResource Text}"
                                HorizontalAlignment="Left"
                                FontSize="20" 
                                Margin="10,0,0,0"/>
                            <TextBlock 
                                Grid.Row="1"
                                Text="{Binding TodayBillQuantity}"
                                HorizontalAlignment="Left"
                                Margin="10,0,0,0" 
                                TextWrapping="Wrap" 
                                VerticalAlignment="Center" 
                                FontSize="24" 
                                FontWeight="Bold" 
                                Foreground="{DynamicResource Primary}" />
                        </Grid>
                    </StackPanel>
                    <Grid 
                        Grid.Row="1"
                        Style="{StaticResource DropShadow}"
                        Margin="20">
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="4"
                            Panel.ZIndex="-1"/>
                        <StackPanel 
                            Orientation="Horizontal"
                            VerticalAlignment="Top" 
                            Margin="20,10,20,0">
                            <TextBlock
                                Text="Thống kê thu chi"
                                Style="{StaticResource HeadingText2}"
                                FontSize="20"/>
                            <ComboBox
                                x:Name="cboSelectPeriod"
                                materialDesign:ComboBoxAssist.ClassicMode="true"
                                FontSize="16"
                                FontWeight="Medium" 
                                DataContext="{StaticResource ReportVM}"
                                Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                materialDesign:HintAssist.Hint="Chọn chu kỳ"
                                Width="160" 
                                Height="40" 
                                HorizontalAlignment="Left" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center" 
                                Padding="3,0,0,0" 
                                Margin="280,0,0,0">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SelectPeriodCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ComboBoxItem Content="Theo ngày"/>
                                <ComboBoxItem Content="Theo tháng"/>
                                <ComboBoxItem Content="Theo quý"/>
                            </ComboBox>
                            <ComboBox
                                x:Name="cboSelectYear"
                                materialDesign:ComboBoxAssist.ClassicMode="true"
                                FontSize="16"
                                FontWeight="Medium"
                                ItemsSource="{Binding ItemSourceYear}"
                                Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                materialDesign:HintAssist.Hint="Chọn năm"
                                Width="160" 
                                Height="40" 
                                HorizontalAlignment="Left" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center" 
                                Padding="3,0,0,0" 
                                Margin="40,0,0,0">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SelectYearCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                            <ComboBox
                                x:Name="cboSelectTime"
                                ItemsSource="{Binding ItemSourceTime}"
                                materialDesign:ComboBoxAssist.ClassicMode="true"
                                FontSize="16"
                                Visibility="Hidden"
                                FontWeight="Medium" 
                                Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                materialDesign:HintAssist.Hint="Chọn tháng"
                                Width="160" 
                                Height="40" 
                                HorizontalAlignment="Left" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center" 
                                Padding="3,0,0,0" 
                                Margin="40,0,0,0" >
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SelectMonthCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                        </StackPanel>
                        <lvc:CartesianChart 
                            Height="460"
                            LegendLocation="Top"
                            Series="{Binding SeriesCollection}"
                            VerticalAlignment="Bottom" 
                            Margin="20,0,20,40">
                            <lvc:CartesianChart.AxisX>
                                <lvc:Axis 
                                    Title="{Binding AxisXTitle, Mode=TwoWay}" 
                                    Labels="{Binding Labels, Mode=TwoWay}" 
                                    Foreground="{DynamicResource Gray1}"
                                    FontSize="14">
                                    <lvc:Axis.Separator>
                                        <lvc:Separator Step="1"/>
                                    </lvc:Axis.Separator>
                                </lvc:Axis>
                            </lvc:CartesianChart.AxisX>
                            <lvc:CartesianChart.AxisY>
                                <lvc:Axis 
                                    Title="VNĐ"
                                    LabelFormatter="{Binding Formatter}"
                                    Foreground="{DynamicResource Gray1}"
                                    FontSize="14"/>
                            </lvc:CartesianChart.AxisY>
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Initialized">
                                    <i:InvokeCommandAction Command="{Binding InitColumnChart}"
                                                           CommandParameter="{Binding ElementName=wdMain}"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </lvc:CartesianChart>
                        <TextBlock
                            Text="{Binding NameChart}"
                            FontSize="18"
                            FontWeight="SemiBold"
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Bottom" 
                            Margin="0,0,0,5"/>
                    </Grid>
                </Grid>
                <Grid
                    Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1.5*"/>
                        <RowDefinition Height="2*"/>
                    </Grid.RowDefinitions>
                    <Grid 
                        Style="{StaticResource DropShadow}"
                        Grid.Row="0"
                        Background="{DynamicResource White}" 
                        Margin="0,0,10,10">
                        <Grid 
                            VerticalAlignment="Top" 
                            Margin="10,10,10,0">
                            <TextBlock
                                Text="Thống kê doanh thu"
                                FontSize="18"
                                Style="{StaticResource HeadingText2}"/>
                            <ComboBox
                                x:Name="cboSelectTimePie"
                                materialDesign:ComboBoxAssist.ClassicMode="true"
                                FontSize="16"
                                FontWeight="Medium" 
                                Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                materialDesign:HintAssist.Hint="Chọn thời gian"
                                Width="160" 
                                Height="40" 
                                HorizontalAlignment="Right" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center" 
                                Padding="3,0,0,0" 
                                VerticalAlignment="Top">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SelectTimePieChartCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ComboBoxItem Content="Hôm nay"/>
                                <ComboBoxItem Content="Tuần nay"/>
                                <ComboBoxItem Content="Tháng nay"/>
                            </ComboBox>
                        </Grid>
                        <lvc:PieChart 
                            x:Name="lvcPieChart"
                            Series="{Binding PieSeriesCollection}"
                            Hoverable="True"
                            LegendLocation="Right" 
                            VerticalAlignment="Bottom"
                            Margin="0,0,0,40" 
                            HoverPushOut="10"
                            FontSize="16"
                            Height="200"/>
                        <TextBlock
                            Text ="{Binding NamePieChart}"
                            FontSize="14"
                            FontWeight="SemiBold"
                            TextWrapping="Wrap"
                            VerticalAlignment="Bottom" 
                            HorizontalAlignment="Center"
                            Margin="0,0,0,5"/>
                    </Grid>
                    <Grid 
                        Grid.Row="1" 
                        Style="{StaticResource DropShadow}"
                        Background="{StaticResource White}"
                        Margin="0,0,10,20">
                        <TextBlock 
                            FontSize="20"
                            Style="{StaticResource HeadingText2}"
                            Text="Bán chạy" 
                            VerticalAlignment="Top"
                            Margin="10,10,0,0"/>
                        <Grid 
                            Margin="10,50,10,0" 
                            VerticalAlignment="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.5*"/>
                                <ColumnDefinition Width="2*"/>
                                <ColumnDefinition />
                                <ColumnDefinition Width="1.5*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Grid.Column="0"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Black2}"
                                Text="STT" HorizontalAlignment="Center" 
                                VerticalAlignment="Center"/>
                            <TextBlock
                                Grid.Column="1"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Black2}"
                                Text="Tên sản phẩm" 
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center" 
                                Margin="10,0,0,0"/>
                            <TextBlock
                                Grid.Column="2"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Black2}"
                                Text="Đã bán" VerticalAlignment="Center"
                                HorizontalAlignment="Center"/>
                            <TextBlock
                                Grid.Column="3"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Black2}"
                                Text="Giá" 
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Center" 
                                Margin="0,0,10,0"/>
                        </Grid>
                        <StackPanel 
                            x:Name="stkBestSeller" 
                            Margin="10,75,10,0" 
                            VerticalAlignment="Top"/>
                    </Grid>
                </Grid>
            </Grid>
            <Grid 
                x:Name="grdPayService"
                Grid.Row="1"
                DataContext="{StaticResource BusinessServiceVM}"
                Visibility="Collapsed">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadCommand}"
                                               CommandParameter="{Binding ElementName=wdMain}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="300"/>
                </Grid.ColumnDefinitions>
                <Grid 
                    Grid.Column="0">
                    <Grid 
                        Height="360"
                        Style="{StaticResource DropShadow}"
                        VerticalAlignment="Top"
                        Margin="20,10,20,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="50"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}"
                            RadiusY="4"
                            RadiusX="4"
                            Grid.RowSpan="3"
                            Panel.ZIndex="-1"/>
                        <TextBlock 
                            Style="{StaticResource HeadingText1}"
                            HorizontalAlignment="Left"
                            FontSize="24"
                            Text="Danh sách dịch vụ"
                            VerticalAlignment="Center" 
                            Margin="10,0,0,0" />
                        <Border 
                            Grid.Row="1"
                            CornerRadius="4,4,0,0"
                            BorderThickness="1"
                            Margin="10,0"
                            Height="40"
                            VerticalAlignment="Top"
                            BorderBrush="{StaticResource Primary}"
                            Background="{StaticResource Primary}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="2*" />
                                    <ColumnDefinition Width="1.5*" />
                                    <ColumnDefinition Width="1.5*" />
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="1.5*" />
                                    <ColumnDefinition Width="1.5*" />
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="10" />
                                </Grid.ColumnDefinitions>
                                <TextBlock 
                                    Grid.Column="0"
                                    Text="Mã DV"
                                    Style="{StaticResource TextHeader}" />
                                <TextBlock
                                    Grid.Column="1"
                                    HorizontalAlignment="Left"
                                    Margin="20,0,0,0"
                                    Text="Loại dịch vụ"
                                    Style="{StaticResource TextHeader}" />
                                <TextBlock 
                                    Grid.Column="2"
                                    Text="Đơn giá"
                                    Style="{StaticResource TextHeader}" />
                                <TextBlock 
                                    Grid.Column="4"
                                    Text="Số lượng"
                                    Style="{StaticResource TextHeader}" />
                                <TextBlock 
                                    Grid.Column="3"
                                    Text="Phí khác"
                                    Style="{StaticResource TextHeader}" />
                                <TextBlock 
                                    Grid.Column="5"
                                    Text="Thành tiền"
                                    Style="{StaticResource TextHeader}" />
                                <TextBlock 
                                    Grid.Column="6"
                                    Text="Trả trước"
                                    Style="{StaticResource TextHeader}" />
                            </Grid>
                        </Border>
                        <Border
                            Grid.Row="2"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="0,0,4,4"
                            BorderThickness="2,0,2,2" 
                            Margin="10,0,10,10">
                            <Grid>
                                <ScrollViewer 
                                    VerticalScrollBarVisibility="Auto"
                                    HorizontalScrollBarVisibility="Disabled"
                                    Style="{StaticResource FavsScrollViewer}">
                                    <StackPanel 
                                        x:Name="stkPickedService"/>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                        <TextBlock 
                            Height="20"
                            Text="{Binding TotalServices, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            Width="30"
                            Margin="0,0,30,0"/>
                        <TextBlock 
                            Height="20"
                            Text="items"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            Margin="0,0,20,0" />
                    </Grid>
                    <Grid 
                        Height="330"
                        VerticalAlignment="Bottom"
                        Style="{StaticResource DropShadow}"
                        DataContext="{StaticResource BusinessServiceVM}"
                        Margin="20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="50"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Rectangle
                            Fill="{DynamicResource White}"
                            RadiusY="4"
                            RadiusX="4"
                            Grid.RowSpan="3"
                            Panel.ZIndex="-1"/>
                        <TextBlock 
                            Style="{StaticResource HeadingText1}"
                            HorizontalAlignment="Left"
                            FontSize="24"
                            Text="Danh sách dịch vụ"
                            VerticalAlignment="Center" 
                            Margin="10,0,0,0" />
                        <Grid 
                            Margin="20,0,15,5" 
                            Height="35" 
                            Width="340"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Right" 
                            VerticalAlignment="Bottom">
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <TextBox 
                                x:Name="txtSearchSaleService"
                                materialDesign:HintAssist.Hint="Tìm theo tên dịch vụ" 
                                FontSize="16" 
                                MaxLines="1"
                                Margin="4,0,40,0" 
                                FontWeight="Medium" 
                                HorizontalContentAlignment="Left" 
                                VerticalContentAlignment="Center"
                                Foreground="{DynamicResource Black1}" 
                                SelectionBrush="{DynamicResource Primary}"
                                Padding="6,0,0,0" 
                                BorderThickness="0" />
                            <Button 
                                IsDefault="True"
                                Style="{StaticResource TransperantButton}"
                                Command="{Binding SearchCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Height="30"
                                Width="30"
                                Margin="0,0,10,0"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Right">
                                <materialDesign:PackIcon 
                                    Kind="Magnify" 
                                    Foreground="{StaticResource Black2}"
                                    Height="24"
                                    Width="24" 
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"/>
                            </Button>
                        </Grid>
                        <Border 
                            Grid.Row="1"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="4"
                            BorderThickness="2"
                            Margin="10">
                            <Grid>
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Loaded">
                                        <i:InvokeCommandAction Command="{Binding LoadSaleServicesCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ScrollViewer 
                                    VerticalScrollBarVisibility="Auto"
                                    Style="{StaticResource FavsScrollViewer}"
                                    HorizontalScrollBarVisibility="Disabled">
                                    <WrapPanel 
                                        x:Name="wrpSaleService"/>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
                <Grid 
                    Grid.Column="1">
                    <Grid 
                        Style="{StaticResource DropShadow}"
                        Grid.Column="1"
                        VerticalAlignment="Top" 
                        Height="360" 
                        Margin="0,10,20,0">
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Panel.ZIndex="-1" />
                        <StackPanel 
                            VerticalAlignment="Top" 
                            Margin="20,15,20,0">
                            <Grid 
                                Margin="0,0,0,15">
                                <TextBlock
                                    Text="Khách hàng"
                                    Style="{StaticResource HeadingText2}" 
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top" 
                                    FontSize="20"/>
                                <TextBlock
                                    x:Name="txbIdCustomer"
                                    Style="{StaticResource Text}"
                                    HorizontalAlignment="Right" 
                                    VerticalAlignment="Bottom"
                                    FontSize="18" 
                                    FontWeight="Bold"/>
                            </Grid>
                            <Grid 
                                MaxHeight="50"
                                Margin="0,0,0,15">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="Họ tên"
                                    HorizontalAlignment="Left"
                                    Foreground="{DynamicResource Black1}" />
                                <TextBlock
                                    x:Name="txbNameCustomer"
                                    Style="{StaticResource Text}"
                                    HorizontalAlignment="Right" 
                                    TextTrimming="WordEllipsis"
                                    Width="160" 
                                    TextAlignment="Right"/>
                            </Grid>
                            <Grid 
                                Margin="0,0,0,15">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="SĐT"
                                    HorizontalAlignment="Left" 
                                    Foreground="{DynamicResource Black1}" />
                                <TextBlock
                                    x:Name="txbPhoneCustomer"
                                    Style="{StaticResource Text}"
                                    HorizontalAlignment="Right"/>
                            </Grid>
                            <Grid 
                                Margin="0,0,0,15">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="Hạng KH"
                                    HorizontalAlignment="Left" 
                                    Foreground="{DynamicResource Black1}"/>
                                <TextBlock
                                    x:Name="txbClassCustomer"
                                    Style="{StaticResource Text}"                               
                                    HorizontalAlignment="Right"
                                    TextTrimming="WordEllipsis"
                                    Width="160" 
                                    TextAlignment="Right"/>
                            </Grid>
                            <Grid 
                                Height="66">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="Địa chỉ"
                                    HorizontalAlignment="Left" 
                                    Foreground="{DynamicResource Black1}"
                                    VerticalAlignment="Top"/>
                                <TextBlock
                                    x:Name="txbAddressCustomer"
                                    Style="{StaticResource Text}"
                                    TextTrimming="CharacterEllipsis"
                                    HorizontalAlignment="Right" 
                                    Width="160" 
                                    TextWrapping="Wrap"
                                    TextAlignment="Right" 
                                    VerticalAlignment="Top" />
                            </Grid>
                        </StackPanel>
                        <Button
                            Style="{StaticResource GreenButton}"
                            Command="{Binding PickCustomerCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Content="Chọn khách hàng"
                            VerticalAlignment="Bottom"
                            Margin="20,0,20,10"
                            Height="35" 
                            FontSize="18" />
                    </Grid>
                    <Grid 
                        Style="{StaticResource DropShadow}"
                        Grid.Column="1"
                        VerticalAlignment="Bottom" 
                        Height="330" 
                        Margin="0,0,20,20">
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Panel.ZIndex="-1" />
                        <TextBlock
                            Text="Thanh toán"
                            Style="{StaticResource HeadingText2}" 
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top" 
                            Margin="15,10,0,0"
                            FontSize="20"/>
                        <StackPanel 
                            VerticalAlignment="Top" 
                            Margin="20,55,20,0">
                            <Grid 
                                Margin="0,0,0,15">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="Mã hóa đơn"
                                    HorizontalAlignment="Left"
                                    Foreground="{DynamicResource Black1}" />
                                <TextBlock
                                    x:Name="txbIdBillService" 
                                    Style="{StaticResource Text}"
                                    HorizontalAlignment="Right"/>
                            </Grid>
                            <Grid 
                                Margin="0,0,0,15">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="Ngày hóa đơn"
                                    HorizontalAlignment="Left"
                                    Foreground="{DynamicResource Black1}" />
                                <TextBlock
                                    x:Name="txbDateBillService" 
                                    Style="{StaticResource Text}"
                                    HorizontalAlignment="Right"/>
                            </Grid>
                            <Grid 
                                Margin="0,0,0,15">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="Tiền cọc"
                                    HorizontalAlignment="Left" 
                                    Foreground="{DynamicResource Black1}"/>
                                <TextBlock
                                    x:Name="txbTotalPaidBillService"
                                    Style="{StaticResource Text}"
                                    HorizontalAlignment="Right"/>
                            </Grid>
                            <Grid 
                                Margin="0,0,0,20">
                                <TextBlock
                                    Style="{StaticResource Text}"
                                    Text="Thành tiền"
                                    HorizontalAlignment="Left" 
                                    Foreground="{DynamicResource Black1}"/>
                                <TextBlock
                                    x:Name="txbTotalBillService"
                                    Style="{StaticResource Text}"
                                    HorizontalAlignment="Right"/>
                            </Grid>
                        </StackPanel>
                        <Button
                            Style="{StaticResource GreenButton}"
                            Command="{Binding PayBillServiceCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Content="Thanh toán"
                            ToolTip="Thanh toán phiếu dịch vụ"
                            VerticalAlignment="Bottom"
                            Margin="20,0,20,15"
                            Height="35" />
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                x:Name="grdSale"
                DataContext="{StaticResource SaleVM}"
                Visibility="Collapsed"
                Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="340"/>
                </Grid.ColumnDefinitions>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadSaleGoodsCommand}" 
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid
                    Height="350"
                    Grid.Column="0" 
                    Style="{StaticResource DropShadow}"
                    VerticalAlignment="Top" 
                    Margin="20,10,20,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Rectangle 
                        Grid.RowSpan="2"
                        Fill="{DynamicResource White}" 
                        RadiusY="4" 
                        RadiusX="4"
                        Panel.ZIndex="-1" />
                    <TextBlock
                        Text="Sản phẩm đã chọn"
                        Style="{StaticResource HeadingText2}" 
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top" 
                        Margin="15,10,0,0"
                        FontSize="22"/>
                    <Border
                        CornerRadius="4,4,0,0"
                        BorderThickness="1"
                        Grid.Row="1" 
                        Margin="15,0"
                        Height="40" 
                        VerticalAlignment="Top" 
                        BorderBrush="{StaticResource Primary}" 
                        Background="{StaticResource Primary}" >
                        <Grid  
                            Margin="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70"/>
                                <ColumnDefinition Width="2.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="10"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Text="Mã SP" 
                                Grid.Column="0"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Tên sản phẩm" 
                                Grid.Column="1"
                                Style="{StaticResource TextHeader}"
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0"/>
                            <TextBlock
                                Text="Loại" 
                                Grid.Column="2"
                                Style="{StaticResource TextHeader}" />
                            <TextBlock
                                Text="Đơn vị tính" 
                                Grid.Column="3"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Số lượng" 
                                Grid.Column="4"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Đơn giá" 
                                Grid.Column="5"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Thành tiền" 
                                Grid.Column="6"
                                Style="{StaticResource TextHeader}"/>
                        </Grid>
                    </Border>
                    <Border
                        Grid.Row="1"
                        BorderBrush="{DynamicResource Light}"
                        CornerRadius="4,0,4,4"
                        BorderThickness="2,0,2,2" 
                        Margin="15,40,15,15">
                        <ScrollViewer 
                            Style="{StaticResource FavsScrollViewer}"
                            VerticalScrollBarVisibility="Auto" 
                            HorizontalScrollBarVisibility="Disabled" >
                            <StackPanel 
                                x:Name="stkSelectedGoods" />
                        </ScrollViewer>
                    </Border>
                </Grid>
                <Grid
                    Height="340"
                    Grid.Column="0" 
                    Style="{StaticResource DropShadow}"
                    VerticalAlignment="Bottom" 
                    Margin="20,0,20,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Rectangle 
                        Grid.RowSpan="2"
                        Fill="{DynamicResource White}" 
                        RadiusY="4" 
                        RadiusX="4"
                        Panel.ZIndex="-1" />
                    <TextBlock
                        Text="Danh sách sản phẩm"
                        Style="{StaticResource HeadingText2}" 
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center" 
                        Margin="15,0,0,0"
                        FontSize="22"/>
                    <Grid 
                        Margin="20,0,15,5" 
                        Height="35" 
                        Width="340"
                        Style="{StaticResource DropShadow}"
                        HorizontalAlignment="Right" 
                        VerticalAlignment="Bottom">
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Panel.ZIndex="-1" />
                        <TextBox 
                            x:Name="txtSearchSaleGoods"
                            materialDesign:HintAssist.Hint="Tìm sản phẩm" 
                            FontSize="16" 
                            MaxLines="1"
                            Margin="12,0,40,0" 
                            FontWeight="Medium" 
                            HorizontalContentAlignment="Left" 
                            VerticalContentAlignment="Center"
                            Foreground="{DynamicResource Black1}" 
                            SelectionBrush="{DynamicResource Primary}"
                            Padding="0" 
                            BorderThickness="0" />
                        <Button 
                            IsDefault="True"
                            Command="{Binding SearchCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Height="30"
                            Width="30"
                            Margin="0,0,10,0"
                            Background="{x:Null}"
                            BorderBrush="{x:Null}"
                            VerticalAlignment="Center"
                            FocusVisualStyle="{x:Null}"
                            HorizontalAlignment="Right"
                            Padding="0">
                            <materialDesign:PackIcon 
                                Kind="Magnify" 
                                Foreground="{StaticResource Black2}"
                                Height="24"
                                Width="24" 
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
                        </Button>
                    </Grid>
                    <Border
                        Grid.Row="1"
                        BorderBrush="{DynamicResource Light}"
                        CornerRadius="4"
                        BorderThickness="2" 
                        Margin="15,0,15,10">
                        <ScrollViewer 
                            Style="{StaticResource FavsScrollViewer}"
                            VerticalScrollBarVisibility="Auto" 
                            HorizontalScrollBarVisibility="Disabled">
                            <WrapPanel 
                                x:Name="wrpSaleGoods" />
                        </ScrollViewer>
                    </Border>
                </Grid>
                <Grid 
                    Style="{StaticResource DropShadow}"
                    Grid.Column="1"
                    VerticalAlignment="Top" 
                    Height="310" 
                    Margin="0,10,20,0">
                    <Rectangle 
                        Fill="{DynamicResource White}" 
                        RadiusY="4" 
                        RadiusX="4"
                        Panel.ZIndex="-1" />
                    <StackPanel 
                        VerticalAlignment="Top" 
                        Margin="20,15,20,0">
                        <Grid 
                            Margin="0,0,0,15">
                            <TextBlock
                                Text="Khách hàng"
                                Style="{StaticResource HeadingText2}" 
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top" 
                                FontSize="20"/>
                            <TextBlock
                                x:Name="txbSaleIdCustomer"
                                Style="{StaticResource Text}"
                                Text="{Binding IdCustomer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Bottom"
                                FontSize="18" 
                                FontWeight="Bold"/>
                        </Grid>
                        <Grid 
                            Margin="0,0,0,10">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="Họ tên"
                                HorizontalAlignment="Left"
                                Foreground="{DynamicResource Black1}"/>
                            <TextBlock
                                x:Name="txbSaleCustomerName"
                                Style="{StaticResource Text}"
                                Text="{Binding CustomerName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right" 
                                TextTrimming="WordEllipsis"
                                Width="180" 
                                TextAlignment="Right"/>
                        </Grid>
                        <Grid 
                            Margin="0,0,0,10">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="SĐT"
                                HorizontalAlignment="Left" 
                                Foreground="{DynamicResource Black1}" />
                            <TextBlock
                                x:Name="txbSaleCustomerPhone"
                                Style="{StaticResource Text}"
                                Text="{Binding CustomerPhoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right"/>
                        </Grid>
                        <Grid 
                            Margin="0,0,0,10">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="Hạng KH"
                                HorizontalAlignment="Left" 
                                Foreground="{DynamicResource Black1}"/>
                            <TextBlock
                                x:Name="txbSaleCustomerClass"
                                Style="{StaticResource Text}"                               
                                Text="{Binding CustomerClass, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right"
                                TextTrimming="WordEllipsis"
                                Width="180" 
                                TextAlignment="Right"/>
                        </Grid>
                        <Grid 
                            Height="66">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="Địa chỉ"
                                HorizontalAlignment="Left" 
                                Foreground="{DynamicResource Black1}"
                                VerticalAlignment="Top"/>
                            <TextBlock
                                x:Name="txbSaleCustomerAddress"
                                Style="{StaticResource Text}"
                                TextTrimming="CharacterEllipsis"
                                Text="{Binding CustomerAddress, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right" 
                                Width="180" 
                                TextWrapping="Wrap"
                                TextAlignment="Right" 
                                VerticalAlignment="Top" />
                        </Grid>
                    </StackPanel>
                    <Button
                        Style="{StaticResource GreenButton}"
                        Command="{Binding SelectCustomerCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Content="Chọn khách hàng"
                        VerticalAlignment="Bottom"
                        Margin="20,0,20,10"
                        Height="35" 
                        FontSize="18" />
                </Grid>
                <Grid 
                    Style="{StaticResource DropShadow}"
                    Grid.Column="1"
                    VerticalAlignment="Bottom" 
                    Height="380" 
                    Margin="0,0,20,20">
                    <Rectangle 
                        Fill="{DynamicResource White}" 
                        RadiusY="4" 
                        RadiusX="4"
                        Panel.ZIndex="-1" />
                    <TextBlock
                        Text="Thanh toán"
                        Style="{StaticResource HeadingText2}" 
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top" 
                        Margin="15,10,0,0"
                        FontSize="20"/>
                    <StackPanel 
                        VerticalAlignment="Top" 
                        Margin="20,55,20,0">
                        <Grid 
                            Margin="0,0,0,10">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="Mã hóa đơn"
                                HorizontalAlignment="Left"
                                Foreground="{DynamicResource Black1}" />
                            <TextBlock
                                x:Name="txbIdBillSale"
                                Style="{StaticResource Text}"
                                Text="{Binding IdBill, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right"/>
                        </Grid>
                        <Grid 
                            Margin="0,0,0,10">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="Ngày hóa đơn"
                                HorizontalAlignment="Left"
                                Foreground="{DynamicResource Black1}" />
                            <TextBlock
                                x:Name="txbSaleDate"
                                Style="{StaticResource Text}"
                                Text="{Binding InvoiceDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right"/>
                        </Grid>
                        <Grid 
                            Margin="0,0,0,10">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="Số lượng"
                                HorizontalAlignment="Left" 
                                Foreground="{DynamicResource Black1}"/>
                            <TextBlock
                                x:Name="txbSaleQuantity"
                                Style="{StaticResource Text}"
                                Text="{Binding Quantity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right"/>
                        </Grid>
                        <Grid 
                            Margin="0,0,0,20">
                            <TextBlock
                                Style="{StaticResource Text}"
                                Text="Thành tiền"
                                HorizontalAlignment="Left" 
                                Foreground="{DynamicResource Black1}"/>
                            <TextBlock
                                x:Name="txbSaleTotal"
                                Style="{StaticResource Text}"
                                Text="{Binding Total, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Right"/>
                        </Grid>
                        <TextBox
                            x:Name="txbSaleNote"
                            Style="{StaticResource MaterialDesignOutlinedTextBox}"
                            VerticalAlignment="Top"
                            AcceptsReturn="True"
                            TextWrapping="Wrap"
                            FontSize="16"
                            FontWeight="SemiBold"
                            VerticalScrollBarVisibility="Auto"
                            materialDesign:HintAssist.Hint="Ghi chú"
                            HorizontalContentAlignment="Left"
                            MaxLines="3" 
                            Foreground="{DynamicResource Black2}"
                            BorderBrush="{DynamicResource Light}"
                            BorderThickness="2" 
                            Height="110"/>
                    </StackPanel>
                    <Button
                        x:Name="btnSalePay"
                        Style="{StaticResource GreenButton}"
                        Command="{Binding CompletePaymentCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Content="Thanh toán"
                        VerticalAlignment="Bottom"
                        Margin="20,0,20,15"
                        Height="35" 
                        FontSize="18"/>
                </Grid>
            </Grid>
            <Grid
                x:Name="grdSupplier"
                Visibility="Collapsed"
                Grid.Row="1"
                DataContext="{StaticResource SupplierVM}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadSupplierCommand}"
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid.RowDefinitions>
                    <RowDefinition Height="90"/>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <StackPanel
                    Orientation="Horizontal"
                    HorizontalAlignment="Right" 
                    Margin="0,0,20,0" 
                    VerticalAlignment="Center">
                    <Button
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding ExportExcelCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Content="Xuất excel"
                        ToolTip="Xuất danh sách nhà cung cấp"
                        Margin="0,0,20,0"
                        Width="160"/>
                    <Button
                        Style="{StaticResource GreenButton}"
                        Command="{Binding OpenAddSupplierWindowCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Content="Thêm NCC"
                        ToolTip="Thêm nhà cung cấp"
                        Width="160"/>
                </StackPanel>
                <Grid 
                    Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="320"/>
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <StackPanel 
                        Grid.Column="0" 
                        Margin="20,0,10,20">
                        <Grid
                            Height="240"
                            Style="{StaticResource DropShadow}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Grid.RowSpan="4"
                                Panel.ZIndex="-1"/>
                            <Grid 
                                Grid.Row="0">
                                <TextBlock
                                    Style="{StaticResource HeadingText2}"
                                    FontSize="22"
                                    Text="Sắp xếp"
                                    HorizontalAlignment="Left" 
                                    Margin="20,0,0,0"/>
                                <Rectangle 
                                    Height="3"
                                    Fill="{StaticResource Light}"
                                    VerticalAlignment="Bottom"
                                    Margin="20,0"/>
                            </Grid>
                            <StackPanel
                                Grid.Row="1" 
                                VerticalAlignment="Top">
                                <Grid  
                                    Margin="20,30,20,0" 
                                    Height="45" 
                                    Style="{StaticResource DropShadow}" 
                                    VerticalAlignment="Center">
                                    <Rectangle 
                                        Fill="{DynamicResource White}" 
                                        RadiusY="4" 
                                        RadiusX="4"
                                        Panel.ZIndex="-1" />
                                    <ComboBox
                                        x:Name="cboSortType"
                                        materialDesign:ComboBoxAssist.ClassicMode="True"
                                        materialDesign:HintAssist.Hint="Sắp xếp theo"
                                        materialDesign:HintAssist.IsFloating="True"
                                        Style="{StaticResource MaterialDesignOutlinedComboBox}"
                                        Foreground="{StaticResource Black2}"
                                        Height="40"
                                        FontSize="18"
                                        BorderThickness="0"
                                        Padding="10,0"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Left"
                                        FontWeight="SemiBold"
                                        BorderBrush="{StaticResource Black2}" 
                                        FocusVisualStyle="{x:Null}"
                                        Background="{StaticResource White}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding SelectSortTypeCommand}"
                                                                       CommandParameter="{Binding ElementName=wdMain}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                        <ComboBoxItem Content="Tên nhà cung cấp"/>
                                        <ComboBoxItem Content="Số lượng đơn hàng"/>
                                        <ComboBoxItem Content="Số tiền đã trả"/>
                                    </ComboBox>
                                </Grid>
                                <Grid  
                                    Margin="20,30,20,0" 
                                    Height="45" 
                                    Style="{StaticResource DropShadow}" 
                                    VerticalAlignment="Center">
                                    <Rectangle 
                                        Fill="{DynamicResource White}" 
                                        RadiusY="4" 
                                        RadiusX="4"
                                        Panel.ZIndex="-1" />
                                    <ComboBox
                                        x:Name="cboSortSupplier"
                                        materialDesign:ComboBoxAssist.ClassicMode="True"
                                        materialDesign:HintAssist.Hint="Cách sắp xếp"
                                         materialDesign:HintAssist.IsFloating="True"
                                        Style="{StaticResource MaterialDesignOutlinedComboBox}"
                                        Foreground="{StaticResource Black2}"
                                        ItemsSource="{Binding IteamSource}"
                                        Height="40"
                                        FontSize="18"
                                        BorderThickness="0"
                                        Padding="10,0"
                                        VerticalContentAlignment="Center"
                                        HorizontalContentAlignment="Left"
                                        FontWeight="SemiBold"
                                        BorderBrush="{StaticResource Black2}" 
                                        Background="{StaticResource White}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectionChanged">
                                                <i:InvokeCommandAction Command="{Binding SortCommand}"
                                                                       CommandParameter="{Binding ElementName=wdMain}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </ComboBox>
                                </Grid>
                            </StackPanel>
                        </Grid>
                        <Grid
                            Height="160"
                            Style="{StaticResource DropShadow}"
                            Margin="0,30,0,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Grid.RowSpan="4"
                                Panel.ZIndex="-1"/>
                            <TextBlock
                                Grid.Row="0"
                                Style="{StaticResource HeadingText2}"
                                FontSize="22"
                                Text="Số lượng nhà cung cấp" 
                                HorizontalAlignment="Left" 
                                Margin="20,0,0,0"/>
                            <Rectangle
                                Grid.Row="0"
                                Height="2"
                                Fill="{StaticResource Primary}" 
                                Margin="20,0"
                                VerticalAlignment="Bottom"/>
                            <TextBlock
                                x:Name="txbSupplierQuantity"
                                Grid.Row="1"
                                Style="{StaticResource Text}"
                                MaxWidth="200"
                                FontSize="24"
                                Margin="20,0,0,0"
                                HorizontalAlignment="Left"/>
                        </Grid>
                        <Grid
                            Height="160"
                            Style="{StaticResource DropShadow}"
                            Margin="0,30,0,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Grid.RowSpan="4"
                                Panel.ZIndex="-1"/>
                            <TextBlock
                                Grid.Row="0"
                                Style="{StaticResource HeadingText2}"
                                Text="Tổng chi" 
                                FontSize="22"
                                HorizontalAlignment="Left" 
                                VerticalAlignment="Center" 
                                Margin="20,0,0,0"/>
                            <Rectangle
                                Grid.Row="0"
                                Height="2"
                                Fill="{StaticResource Primary}" 
                                Margin="20,0"
                                VerticalAlignment="Bottom"/>
                            <TextBlock
                                x:Name="txbTotalSpentToSupplier"
                                Grid.Row="1"
                                Style="{StaticResource Text}"
                                MaxWidth="200"
                                FontSize="24"
                                Margin="20,0,0,0"
                                HorizontalAlignment="Left"/>
                        </Grid>
                    </StackPanel>
                    <Grid 
                        Grid.Column="1"
                        Style="{StaticResource DropShadow}"
                        Margin="10,0,20,20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="100"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="5*"/>
                            <RowDefinition Height="60"/>
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="4"
                            Panel.ZIndex="-1"/>
                        <Grid 
                            Width="400"
                            Height="46" 
                            Style="{StaticResource DropShadow}" 
                            VerticalAlignment="Center" 
                            HorizontalAlignment="Left" 
                            Margin="20,0,0,0">
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <TextBox 
                                x:Name="txtSearchSupplier"
                                materialDesign:HintAssist.Hint="Tìm kiếm theo tên nhà cung cấp" 
                                FontSize="16" 
                                BorderThickness="0" 
                                MaxLines="1"
                                Margin="12,0,40,0" 
                                FontWeight="SemiBold" 
                                Height="40" 
                                VerticalAlignment="Center" 
                                HorizontalContentAlignment="Left" 
                                VerticalContentAlignment="Center"
                                Padding="2,0,0,0" />
                            <Button 
                                IsDefault="True"
                                Style="{StaticResource TransperantButton}"
                                Command="{Binding SearchCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Height="30"
                                Width="30"
                                Margin="0,0,10,0" 
                                VerticalAlignment="Center" 
                                HorizontalAlignment="Right" 
                                ToolTip="Tìm kiếm sản phẩm">
                                <materialDesign:PackIcon
                                    Kind="Magnify" 
                                    Width="30"
                                    Height="30" 
                                    Foreground="{StaticResource Black2}" />
                            </Button>
                        </Grid>
                        <Border
                            CornerRadius="4,4,0,0"
                            BorderThickness="1"
                            Grid.Row="1" 
                            Margin="20,0"
                            Height="40" 
                            VerticalAlignment="Top" 
                            BorderBrush="{StaticResource Primary}" 
                            Background="{StaticResource Primary}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="90"/>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    Text="Mã NCC" 
                                    Grid.Column="0"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Tên NCC" 
                                    Grid.Column="1"
                                    Style="{StaticResource TextHeader}"
                                    HorizontalAlignment="Left"
                                    Margin="20,0,0,0"/>
                                <TextBlock
                                    Text="Địa chỉ" 
                                    Grid.Column="2"
                                    Style="{StaticResource TextHeader}" />
                                <TextBlock
                                    Text="SĐT" 
                                    Grid.Column="3"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Số đơn hàng" 
                                    Grid.Column="4"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Tổng tiền" 
                                    Grid.Column="5"
                                    Style="{StaticResource TextHeader}"/>
                            </Grid>
                        </Border>
                        <Border
                            Grid.Row="2"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="0,0,4,4"
                            BorderThickness="2,0,2,2" 
                            Margin="20,0,20,16">
                            <StackPanel 
                                x:Name="stkSupplier"/>
                        </Border>
                        <StackPanel
                            Grid.Row="3"
                            Orientation="Horizontal"
                            VerticalAlignment="Center" 
                            HorizontalAlignment="Right" 
                            Margin="0,0,20,0">
                            <TextBlock 
                                x:Name="txtNumOfSupplier"
                                Style="{StaticResource Text}"
                                Margin="0,0,40,0"/>
                            <Button 
                                x:Name="btnPrePageSupplier" 
                                Margin="8,0"
                                ToolTip="Trang trước"
                                Style="{StaticResource PaginationButton}"
                                Command="{Binding PreviousPageCommand}"
                                CommandParameter="{Binding ElementName=wdMain}">
                                <materialDesign:PackIcon 
                                    Width="26"
                                    Height="28"
                                    Kind="ChevronLeft" />
                            </Button>
                            <Button 
                                x:Name="btnNextPageSupplier" 
                                Margin="8,0,0,0" 
                                ToolTip="Trang tiếp theo"
                                Style="{StaticResource PaginationButton}"
                                Command="{Binding NextPageCommand}"
                                CommandParameter="{Binding ElementName=wdMain}">
                                <materialDesign:PackIcon 
                                    Width="26"
                                    Height="28"
                                    Kind="ChevronRight" />
                            </Button>
                        </StackPanel>
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                x:Name="grdStock"
                DataContext="{StaticResource StockVM}"
                Visibility="Collapsed"
                Grid.Row="1" >
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadStockCommand}" 
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid.RowDefinitions>
                    <RowDefinition Height="90"/>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <StackPanel 
                    x:Name="stkStockDashboard"
                    Orientation="Horizontal"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center" 
                    Visibility="Collapsed"
                    Margin="20,0,0,0">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="Loaded">
                            <i:InvokeCommandAction Command="{Binding LoadDashboardCommand}" 
                                                   CommandParameter="{Binding ElementName=wdMain}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <UserControls:DashboardControl/>
                    <UserControls:DashboardControl/>
                    <UserControls:DashboardControl/>
                </StackPanel>
                <StackPanel
                    Orientation="Horizontal"
                    HorizontalAlignment="Right" 
                    Margin="0,0,20,0" 
                    VerticalAlignment="Center">
                    <Button
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding ExportExcelCommand}"
                        Content="Xuất excel"
                        ToolTip="Xuất danh sách tồn kho"
                        Margin="0,0,20,0"
                        Width="160"/>
                    <Button
                        x:Name="btnSwitchImportStock"
                        Style="{StaticResource GreenButton}"
                        Content="Nhập kho"
                        ToolTip="Nhập kho"
                        Width="160"/>
                </StackPanel>
                <Grid 
                    Grid.Row="2"
                    Margin="20,0,20,20"
                    Style="{StaticResource DropShadow}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="74"/>
                        <RowDefinition/>
                        <RowDefinition Height="50"/>
                    </Grid.RowDefinitions>
                    <Grid 
                        Margin="20,0,0,0" 
                        Height="46" 
                        Width="400"
                        Style="{StaticResource DropShadow}"
                        HorizontalAlignment="Left" 
                        VerticalAlignment="Center">
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Panel.ZIndex="-1" />
                        <TextBox 
                            x:Name="txtSearchStock"
                            materialDesign:HintAssist.Hint="Tìm theo tên sản phẩm" 
                            FontSize="18" 
                            BorderThickness="0" 
                            MaxLines="1"
                            Margin="12,0,40,0" 
                            FontWeight="Medium" 
                            Height="40" 
                            HorizontalContentAlignment="Left" 
                            VerticalContentAlignment="Center"
                            Foreground="{DynamicResource Black1}" 
                            SelectionBrush="{DynamicResource Primary}"
                            Padding="2,0,0,0"
                            VerticalAlignment="Center" />
                        <Button 
                            IsDefault="True"
                            Style="{StaticResource TransperantButton}"
                            Command="{Binding SearchCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Height="30"
                            Width="30"
                            Margin="0,0,10,0"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Right">
                            <materialDesign:PackIcon 
                                Kind="Magnify" 
                                Foreground="{StaticResource Black2}"
                                Height="26"
                                Width="26" />
                        </Button>
                    </Grid>
                    <StackPanel
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="0,0,20,0" 
                        VerticalAlignment="Center">
                        <Grid 
                            Margin="0" 
                            Height="45" 
                            Width="160"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Left" 
                            VerticalAlignment="Center">
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <ComboBox
                                x:Name="cboMonthStock"
                                materialDesign:ComboBoxAssist.ClassicMode="True"
                                materialDesign:HintAssist.Hint="Chọn tháng"
                                ItemsSource="{Binding ItemSourceMonth}"
                                SelectedItem="{Binding SelectedMonth, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                Height="40"
                                FontSize="18"
                                BorderThickness="0"
                                Padding="10,0,4,0"
                                VerticalContentAlignment="Center"
                                HorizontalContentAlignment="Left"
                                FontWeight="SemiBold"
                                BorderBrush="{StaticResource Black2}" 
                                Background="{StaticResource White}" 
                                Margin="4,0">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding FilterCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                        </Grid>
                        <Grid 
                            Margin="20,0,0,0" 
                            Height="45" 
                            Width="160"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Left" 
                            VerticalAlignment="Center">
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <ComboBox
                                x:Name="cboYearStock"
                                materialDesign:ComboBoxAssist.ClassicMode="True"
                                materialDesign:HintAssist.Hint="Chọn năm"
                                ItemsSource="{Binding ItemSourceYear}"
                                SelectedItem="{Binding SelectedYear, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                Height="40"
                                FontSize="18"
                                BorderThickness="0"
                                Padding="10,0,4,0"
                                VerticalContentAlignment="Center"
                                HorizontalContentAlignment="Left"
                                FontWeight="SemiBold"
                                BorderBrush="{StaticResource Black2}" 
                                Background="{StaticResource White}" 
                                Margin="4,0">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SetItsMonthCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                    <i:EventTrigger EventName="Loaded">
                                        <i:InvokeCommandAction Command="{Binding SetItsYearCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                        </Grid>
                    </StackPanel>
                    <Border
                        CornerRadius="4,4,0,0"
                        BorderThickness="1"
                        Grid.Row="1" 
                        Margin="20,0"
                        Height="40" 
                        VerticalAlignment="Top" 
                        BorderBrush="{StaticResource Primary}" 
                        Background="{StaticResource Primary}" >
                        <Grid  
                            Margin="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="90"/>
                                <ColumnDefinition Width="2.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition />
                                <ColumnDefinition />
                                <ColumnDefinition />
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Text="Mã SP" 
                                Grid.Column="0"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Tên sản phẩm" 
                                Grid.Column="1"
                                Style="{StaticResource TextHeader}"
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0"/>
                            <TextBlock
                                Text="Loại" 
                                Grid.Column="2"
                                Style="{StaticResource TextHeader}" />
                            <TextBlock
                                Text="Tồn đầu" 
                                Grid.Column="3"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Mua vào" 
                                Grid.Column="4"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Bán ra" 
                                Grid.Column="5"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Tồn cuối" 
                                Grid.Column="6"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Đơn vị tính" 
                                Grid.Column="7"
                                Style="{StaticResource TextHeader}"/>
                        </Grid>
                    </Border>
                    <Border
                        Grid.Row="1"
                        BorderBrush="{DynamicResource Light}"
                        CornerRadius="0,0,4,4"
                        BorderThickness="2,0,2,2"
                        Margin="20,40,20,4" >
                        <StackPanel 
                            x:Name="stkStock"/>
                    </Border>
                    <StackPanel
                        Grid.Row="2"
                        Orientation="Horizontal"
                        VerticalAlignment="Center" 
                        HorizontalAlignment="Right" 
                        Margin="0,0,20,0">
                        <TextBlock 
                            x:Name="txtNumOfStock"
                            Style="{StaticResource Text}"
                            Margin="0,0,40,0"/>
                        <Button 
                            x:Name="btnPrePageStock" 
                            Margin="8,0"
                            ToolTip="Trang trước"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding PreviousPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronLeft" 
                                VerticalAlignment="Center" 
                                HorizontalAlignment="Center" />
                        </Button>
                        <Button 
                            x:Name="btnNextPageStock" 
                            Margin="8,0,0,0" 
                            ToolTip="Trang tiếp theo"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding NextPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronRight" 
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                        </Button>
                    </StackPanel>
                    <Rectangle 
                        Fill="{DynamicResource White}" 
                        RadiusY="4" 
                        RadiusX="4"
                        Grid.RowSpan="3"
                        Panel.ZIndex="-1" />
                </Grid>
            </Grid>
            <Grid 
                x:Name="grdEmployee" 
                Grid.Row="1" 
                DataContext="{StaticResource EmployeeVM}"
                Visibility="Collapsed">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadCommand}" 
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid.RowDefinitions>
                    <RowDefinition Height="90"/>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <StackPanel
                    HorizontalAlignment="Right" 
                    Margin="0,0,20,0" 
                    Orientation="Horizontal"
                    VerticalAlignment="Center">
                    <Button
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding OpenPositionWindowCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Content="Chức vụ" 
                        ToolTip="Quản lý chức vụ"
                        Width="160"
                        Margin="0,0,20,0"/>
                    <Button
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding ExportExcelCommand}"
                        Content="Xuất excel"
                        ToolTip="Xuất danh sách nhân viên"
                        Width="160"
                        Margin="0,0,20,0"/>
                    <Button
                        x:Name="btnAddEmployee"
                        Style="{StaticResource GreenButton}"
                        Command="{Binding OpenAddWindowCommand}"
                        Content="Thêm nhân viên"
                        ToolTip="Thêm nhân viên"/>
                </StackPanel>
                <Grid 
                    Grid.Row="2"
                    Margin="20,0,20,20"
                    Style="{StaticResource DropShadow}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="80"/>
                        <RowDefinition/>
                        <RowDefinition Height="50"/>
                    </Grid.RowDefinitions>
                    <Rectangle 
                        Fill="{DynamicResource White}" 
                        RadiusY="4" 
                        RadiusX="4"
                        Grid.RowSpan="3"
                        Panel.ZIndex="-1" />
                    <Grid 
                        Margin="20,20,0,0" 
                        Height="46" 
                        Width="400"
                        Style="{StaticResource DropShadow}"
                        HorizontalAlignment="Left" 
                        VerticalAlignment="Top">
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Panel.ZIndex="-1" />
                        <TextBox 
                            x:Name="txtSearchEmployee"
                            materialDesign:HintAssist.Hint="Tìm nhân viên" 
                            FontSize="18" 
                            BorderThickness="0" 
                            MaxLines="1"
                            Margin="12,0,40,0" 
                            FontWeight="Medium" 
                            Height="40" 
                            HorizontalContentAlignment="Left" 
                            VerticalContentAlignment="Center"
                            Foreground="{DynamicResource Black1}" 
                            SelectionBrush="{DynamicResource Primary}"
                            Padding="2,0,0,0"
                            VerticalAlignment="Center" />
                        <Button 
                            IsDefault="True"
                            Style="{StaticResource TransperantButton}"
                            Command="{Binding SearchCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Height="30"
                            Width="30"
                            Margin="0,0,10,0"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Right">
                            <materialDesign:PackIcon 
                                Kind="Magnify" 
                                Foreground="{StaticResource Black2}"
                                Height="26"
                                Width="26" />
                        </Button>
                    </Grid>
                    <StackPanel
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="0,0,20,0">
                        <Grid 
                            Margin="0" 
                            Height="45" 
                            Width="210"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Left" 
                            VerticalAlignment="Center">
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <ComboBox
                                x:Name="cboFilterPosition"
                                materialDesign:ComboBoxAssist.ClassicMode="True"
                                materialDesign:HintAssist.Hint="Chức vụ"
                                Height="40"
                                FontSize="18"
                                Width="200"
                                BorderThickness="0"
                                Padding="10,0,0,0"
                                ItemsSource="{Binding ItemSourcePosition}"
                                SelectedItem="{Binding FilterPosition, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                DisplayMemberPath="Position"
                                VerticalContentAlignment="Center"
                                HorizontalContentAlignment="Left"
                                FontWeight="SemiBold"
                                BorderBrush="{StaticResource Black2}" 
                                Background="{StaticResource White}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding FilterCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                        </Grid>
                        <Grid 
                            Margin="20,0,0,0" 
                            Height="45" 
                            Width="210"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Left" 
                            VerticalAlignment="Center">
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <ComboBox
                                x:Name="cboSortEmployee"
                                materialDesign:ComboBoxAssist.ClassicMode="True"
                                materialDesign:HintAssist.Hint="Sắp xếp"
                                Height="40"
                                FontSize="18"
                                Width="200"
                                BorderThickness="0"
                                Padding="10,0,0,0"
                                VerticalContentAlignment="Center"
                                HorizontalContentAlignment="Left"
                                FontWeight="SemiBold"
                                BorderBrush="{StaticResource Black2}" 
                                Background="{StaticResource White}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SortCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ComboBoxItem Content="Theo tên A-Z"/>
                                <ComboBoxItem Content="Theo tên Z-A"/>
                            </ComboBox>
                        </Grid>
                    </StackPanel>
                    <Border
                        CornerRadius="4,4,0,0"
                        BorderThickness="1"
                        Grid.Row="1" 
                        Margin="20,0"
                        Height="40" 
                        VerticalAlignment="Top" 
                        BorderBrush="{StaticResource Primary}" 
                        Background="{StaticResource Primary}" >
                        <Grid  
                            Margin="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="90"/>
                                <ColumnDefinition Width="2.5*"/>
                                <ColumnDefinition Width="2*"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="2.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Text="Mã NV" 
                                Grid.Column="0"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Họ tên" 
                                Grid.Column="1"
                                Style="{StaticResource TextHeader}"
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0"/>
                            <TextBlock
                                Text="Chức vụ" 
                                Grid.Column="2"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="SĐT" 
                                Grid.Column="3"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Địa chỉ" 
                                Grid.Column="4"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Text="Lương" 
                                Grid.Column="5"
                                Style="{StaticResource TextHeader}"/>
                        </Grid>
                    </Border>
                    <Border
                        Grid.Row="1"
                        BorderBrush="{DynamicResource Light}"
                        CornerRadius="0,0,4,4"
                        BorderThickness="2,0,2,2" 
                        Margin="20,40,20,0" >
                        <StackPanel 
                            x:Name="stkEmployeeList" >

                        </StackPanel>
                    </Border>
                    <StackPanel
                        Grid.Row="2"
                        Orientation="Horizontal"
                        VerticalAlignment="Center" 
                        HorizontalAlignment="Right" 
                        Margin="0,0,20,0">
                        <TextBlock 
                            x:Name="txtNumOfEmp"
                            Style="{StaticResource Text}"
                            Margin="0,0,40,0"
                            HorizontalAlignment="Right"/>
                        <Button 
                            x:Name="btnPrePageEmp" 
                            Margin="8,0"
                            ToolTip="Trang trước"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding PreviousPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronLeft" />
                        </Button>
                        <Button 
                            x:Name="btnNextPageEmp" 
                            Margin="8,0,0,0" 
                            ToolTip="Trang tiếp theo"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding NextPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronRight" />
                        </Button>
                    </StackPanel>
                </Grid>
            </Grid>
            <Grid 
                x:Name="grdImport"
                Grid.Row="1"
                Visibility="Collapsed"
                DataContext="{StaticResource ImportGoodsVM}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadReceiptCommand}"
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid.RowDefinitions>
                    <RowDefinition Height="90"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Grid 
                    Grid.Row="0">
                    <StackPanel 
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center" 
                        Margin="0,0,20,0"
                        Orientation="Horizontal" >
                        <Button 
                            Content="Xuất excel"
                            ToolTip="Xuất danh sách phiếu nhập kho"
                            Height="45"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding ExportExcelCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Margin="0,0,20,0" 
                            Width="160"/>
                        <Button 
                            Content="Nhập hàng"
                            ToolTip="Nhập hàng"
                            Height="45"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding OpenImportGoodsWindowCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Width="160"/>
                    </StackPanel>
                </Grid>
                <Grid 
                    Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid 
                        Grid.Column="0"
                        Style="{StaticResource DropShadow}"
                        Margin="20,0,20,20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80"/>
                            <RowDefinition Height="50"/>
                            <RowDefinition/>
                            <RowDefinition Height="70"/>
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="4"
                            Panel.ZIndex="-1"/>
                        <StackPanel 
                            Grid.Row="0"
                            Orientation="Horizontal" 
                            Margin="10,0">
                            <Grid   
                                Height="40"
                                Width="190"
                                Style="{StaticResource DropShadow}" 
                                VerticalAlignment="Center">
                                <Rectangle 
                                    Fill="{DynamicResource White}" 
                                    RadiusY="4" 
                                    RadiusX="4"
                                    Panel.ZIndex="-1"/>
                                <ComboBox
                                    x:Name="cboSupplier"
                                    materialDesign:ComboBoxAssist.ClassicMode="True"
                                    materialDesign:HintAssist.Hint="Chọn nhà cung cấp"
                                    FontSize="16"
                                    BorderThickness="0"
                                    Margin="0"
                                    ItemsSource="{Binding ItemSourceFilter}"
                                    DisplayMemberPath="Name"
                                    SelectedItem="{Binding SelectedSupplier}"
                                    VerticalContentAlignment="Center"
                                    HorizontalContentAlignment="Left"
                                    FontWeight="SemiBold"
                                    BorderBrush="{StaticResource Black2}" 
                                    Background="{StaticResource White}" 
                                    VerticalAlignment="Center"
                                    Padding="10,4">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                            <i:InvokeCommandAction Command="{Binding SelectFilterCommand}"
                                                                   CommandParameter="{Binding ElementName=wdMain}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </ComboBox>
                            </Grid>
                            <DatePicker 
                                x:Name="dpkStartDate"
                                Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                                HorizontalAlignment="Right"
                                materialDesign:HintAssist.Hint="Từ ngày" 
                                BorderBrush="{StaticResource Gray1}"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Gray1}" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center"
                                Padding="10,0" 
                                VerticalAlignment="Center"
                                Width="120" 
                                Margin="15,0,0,0"
                                FirstDayOfWeek="Monday" 
                                Height="40">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectedDateChanged">
                                        <i:InvokeCommandAction Command="{Binding SelectStartDateCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </DatePicker>
                            <DatePicker 
                                x:Name="dpkEndDate"
                                Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                                HorizontalAlignment="Right"
                                materialDesign:HintAssist.Hint="Đến ngày" 
                                BorderBrush="{StaticResource Gray1}"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Gray1}" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center"
                                Padding="10,0" 
                                VerticalAlignment="Center" 
                                Width="120" 
                                Margin="15,0,0,0" 
                                FirstDayOfWeek="Monday" 
                                Height="40">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectedDateChanged">
                                        <i:InvokeCommandAction Command="{Binding SelectEndDateCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </DatePicker>
                            <Button 
                                Width="90"
                                Height="40"
                                Content="Hủy"
                                Command="{Binding CancelCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Style="{StaticResource CancelButton}" 
                                FontSize="18"
                                VerticalAlignment="Center" 
                                Margin="15,0,0,0"
                                Padding="16,0"/>
                        </StackPanel>
                        <Grid
                            Background="{StaticResource Primary}"
                            Grid.Row="1" 
                            Margin="10,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition />
                                <ColumnDefinition />
                                <ColumnDefinition Width="120"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Grid.Column="0" 
                                Text="Mã PN" 
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Grid.Column="1" 
                                Text="Ngày nhập" 
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Grid.Column="2" 
                                Text="Người nhập" 
                                Margin="10,0,0,0" 
                                Style="{StaticResource TextHeader}" 
                                HorizontalAlignment="Left"/>
                            <TextBlock
                                Grid.Column="3" 
                                Text="Nhà cung cấp" 
                                Margin="20,0,0,0"   
                                Width="120"
                                HorizontalAlignment="Left" 
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock
                                Grid.Column="4" 
                                Text="Thanh toán"  
                                Style="{StaticResource TextHeader}"/>
                        </Grid>
                        <Border
                            Grid.Row="2"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="0,0,4,4"
                            BorderThickness="2,0,2,2" 
                            Margin="10,0,10,16">
                            <StackPanel  
                                x:Name="stkReceipt"/>
                        </Border>
                        <StackPanel
                            Grid.Row="3"
                            Orientation="Horizontal"
                            VerticalAlignment="Center" 
                            HorizontalAlignment="Right" 
                            Margin="0,0,20,0">
                            <TextBlock 
                                x:Name="txtNumOfReceipt"
                                Margin="0,0,40,0"
                                FontSize="14"
                                TextAlignment="Justify"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Right"
                                Foreground="{DynamicResource Black2}"/>
                            <Button 
                                x:Name="btnPrePageReceipt" 
                                Margin="8,0"
                                ToolTip="Trang trước"
                                Style="{StaticResource PaginationButton}"
                                Command="{Binding PreviousPageCommand}"
                                CommandParameter="{Binding ElementName=wdMain}">
                                <materialDesign:PackIcon 
                                    Width="26"
                                    Height="28"
                                    Kind="ChevronLeft" 
                                    VerticalAlignment="Center" 
                                    HorizontalAlignment="Center" />
                            </Button>
                            <Button 
                                x:Name="btnNextPageReceipt" 
                                Margin="8,0,0,0" 
                                ToolTip="Trang tiếp theo"
                                Style="{StaticResource PaginationButton}"
                                Command="{Binding NextPageCommand}"
                                CommandParameter="{Binding ElementName=wdMain}">
                                <materialDesign:PackIcon 
                                    Width="26"
                                    Height="28"
                                    Kind="ChevronRight" 
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Button>
                        </StackPanel>
                    </Grid>
                    <Grid
                        Grid.Column="1"
                        Style="{StaticResource DropShadow}"
                        Margin="0,0,20,20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="2*"/>
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="4"
                            Panel.ZIndex="-1"/>
                        <StackPanel 
                            Grid.Row="0" 
                            Margin="10,0,10,0" 
                            Orientation="Horizontal">
                            <materialDesign:PackIcon 
                                Kind="FileDocumentBoxMultipleOutline"
                                Foreground="{StaticResource Primary}"
                                Width="32"
                                Height="32"
                                VerticalAlignment="Center" 
                                Margin="20,0,0,0" />
                            <TextBlock 
                                Text="Mã phiếu nhập hàng: "
                                FontSize="22"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Primary}"
                                VerticalAlignment="Center" 
                                Margin="10,0,0,0"/>
                            <TextBlock 
                                x:Name="txbIdReceipt"
                                Text="PN0001"
                                FontSize="22"
                                FontWeight="Bold"
                                Foreground="{StaticResource Primary}"
                                VerticalAlignment="Center" 
                                Margin="20,0,0,0"/>
                        </StackPanel>
                        <Button 
                            x:Name="btnPrint"
                            Content="In phiếu"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding PrintReceiptInfoCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            HorizontalAlignment="Right"
                            FontSize="16"
                            Height="34" 
                            Width="120"
                            VerticalAlignment="Center" 
                            Padding="0" 
                            Margin="0,0,20,0" />
                        <Grid 
                            Margin="10 0"
                            Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Rectangle
                                Grid.ColumnSpan="2"
                                Fill="{StaticResource Light}"
                                Height="3" 
                                VerticalAlignment="Top"/>
                            <Rectangle
                                Grid.ColumnSpan="2"
                                Fill="{StaticResource Light}"
                                Height="3" 
                                VerticalAlignment="Bottom"/>
                            <StackPanel 
                                Grid.Column="0"
                                Margin="10,20,10,0" 
                                VerticalAlignment="Top">
                                <TextBlock
                                   Text="Thông tin hóa đơn"
                                    FontSize="22"
                                    FontWeight="Bold"
                                    Foreground="{StaticResource Primary}"
                                    VerticalAlignment="Center"/>
                                <Grid 
                                    Margin="0,10,0,0">
                                    <TextBlock
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        Foreground="{StaticResource Black1}"
                                        Text="Ngày lập: " 
                                        HorizontalAlignment="Left"/>
                                    <TextBlock
                                        x:Name="txbDateReceipt"
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        HorizontalAlignment="Right"/>
                                </Grid>
                                <Grid 
                                    Margin="0,10,0,0">
                                    <TextBlock
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        Foreground="{StaticResource Black1}"
                                        Text="Nhà cung cấp: " 
                                        HorizontalAlignment="Left"/>
                                    <TextBlock
                                        x:Name="txbSupplier"
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        HorizontalAlignment="Right"/>
                                </Grid>
                                <Grid 
                                    Margin="0,10,0,0">
                                    <TextBlock
                                        Style="{StaticResource Text}"
                                        Foreground="{StaticResource Black2}"
                                        FontSize="18"
                                        Text="Người nhập: " 
                                        HorizontalAlignment="Left"/>
                                    <TextBlock
                                        x:Name="txbImporter"
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        HorizontalAlignment="Right"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel 
                                Grid.Column="1" 
                                Margin="10,16,10,0" 
                                VerticalAlignment="Center">
                                <Grid 
                                    Margin="0,10,0,0">
                                    <TextBlock
                                        Foreground="{StaticResource Black2}"
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        Text="Tổng tiền: " 
                                        HorizontalAlignment="Left"/>
                                    <TextBlock
                                        x:Name="txbTotalMoneyGoods"
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        HorizontalAlignment="Right"/>
                                </Grid>
                                <Grid 
                                    Margin="0,10,0,0">
                                    <TextBlock
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        Foreground="{StaticResource Black2}"
                                        Text="Giảm giá: " 
                                        HorizontalAlignment="Left"/>
                                    <TextBlock
                                        x:Name="txbDiscount"
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        HorizontalAlignment="Right"/>
                                </Grid>
                                <Grid 
                                    Margin="0,10,0,0">
                                    <TextBlock
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        Text="Thanh toán: " 
                                        HorizontalAlignment="Left"/>
                                    <TextBlock
                                        x:Name="txbMoneyToPayGoods"
                                        Style="{StaticResource Text}"
                                        FontSize="18"
                                        HorizontalAlignment="Right"/>
                                </Grid>
                            </StackPanel>
                        </Grid>
                        <Grid 
                            Grid.Row="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="50"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid
                                Background="{StaticResource Primary}"
                                Margin="10,10,10,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="2.5*"/>
                                    <ColumnDefinition Width="1.2*"/>
                                    <ColumnDefinition Width="1.5*"/>
                                    <ColumnDefinition Width="1.2*"/>
                                    <ColumnDefinition Width="1.5*"/>
                                    <ColumnDefinition Width="10"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    Text="Mã SP" 
                                    Style="{StaticResource TextHeader}"
                                    FontSize="16"/>
                                <TextBlock
                                    Grid.Column="1" 
                                    Text="Tên sản phẩm" 
                                    HorizontalAlignment="Left" 
                                    Margin="10,0,0,0"
                                    FontSize="16"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Grid.Column="2" 
                                    Text="Đơn vị" 
                                    FontSize="16"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Grid.Column="3" 
                                    Text="Đơn giá" 
                                    FontSize="16"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Grid.Column="4" 
                                    Text="Số lượng"
                                    FontSize="16"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Grid.Column="5" 
                                    Text="Tổng tiền"  
                                    FontSize="16"
                                    Style="{StaticResource TextHeader}"/>
                            </Grid>
                            <Border
                                BorderBrush="{DynamicResource Light}"
                                CornerRadius="0,0,4,4"
                                BorderThickness="2,0,2,2" 
                                Grid.Row="1" 
                                Margin="10,0,10,10">
                                <ScrollViewer 
                                    Style="{StaticResource FavsScrollViewer}"
                                    VerticalScrollBarVisibility="Auto" 
                                    HorizontalScrollBarVisibility="Disabled">
                                    <StackPanel 
                                        x:Name="stkReceiptDetail"/>
                                </ScrollViewer>
                            </Border>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                x:Name="grdGoods"
                Grid.Row="1"
                Visibility="Collapsed"
                DataContext="{StaticResource GoodsVM}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="100" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadGoodsCommand}"
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid 
                    Grid.Row="0"
                    VerticalAlignment="Center"
                    Margin="20,0" 
                    HorizontalAlignment="Right">
                    <StackPanel 
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center" 
                        Margin="0"
                        Orientation="Horizontal" >
                        <Button 
                            x:Name="btnExportGoods"
                            Content="Xuất excel"
                            ToolTip="Xuất danh sách hàng hóa"
                            Height="45"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding ExportExcelCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Background="{StaticResource Primary}"
                            Margin="0,0,20,0"
                            Width="160"/>
                        <Button 
                            x:Name="btnGoodsType"
                            Content="Loại sản phẩm"
                            ToolTip="Quản lý loại sản phẩm"
                            FontSize="19"
                            Height="45"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding OpenGoodsTypeWindowCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Margin="0,0,20,0" 
                            Padding="0"
                            Width="160"/>
                        <Button 
                            x:Name="btnImportGoods"
                            Content="Nhập hàng"
                            ToolTip="Nhập hàng"
                            Height="45"
                            FontSize="20"
                            Style="{StaticResource GreenButton}"
                            Command="{Binding OpenImportGoodsCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Margin="0,0,20,0"
                            Width="160" />
                        <Button 
                            x:Name="btnAddGoods"
                            Content="Thêm sản phẩm"
                            Height="45"
                            FontSize="20"
                            Style="{StaticResource GreenButton}"
                            Command="{Binding AddGoodsCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Padding="0"
                            Width="160"/>
                    </StackPanel>
                </Grid>
                <Grid 
                    Grid.Row="1" 
                    Style="{StaticResource DropShadow}" 
                    Margin="20,0,20,20">
                    <Grid.RowDefinitions >
                        <RowDefinition Height="80"/>
                        <RowDefinition Height="40"/>
                        <RowDefinition/>
                        <RowDefinition Height="50"/>
                    </Grid.RowDefinitions>
                    <Rectangle 
                        Fill="{DynamicResource White}" 
                        RadiusY="4" 
                        RadiusX="4"
                        Grid.RowSpan="4"
                        Panel.ZIndex="-1" />
                    <Grid>
                        <Grid 
                            x:Name="grdFindGoods" 
                            Margin="20,0,0,0" 
                            Height="46" 
                            Width="400"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center">
                            <Rectangle 
                                Fill="{DynamicResource White}"
                                RadiusY="4"
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <TextBox 
                                x:Name="txtSearchGoods"
                                materialDesign:HintAssist.Hint="Tìm theo tên sản phẩm"
                                FontSize="16"
                                BorderThickness="0"
                                MaxLines="1"
                                Margin="12,0,40,0"
                                FontWeight="SemiBold"
                                Height="40"
                                VerticalAlignment="Center"
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center"
                                Padding="2,0,0,0"/>
                            <Button 
                                IsDefault="True"
                                Style="{StaticResource TransperantButton}"
                                Command="{Binding SearchCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Height="30"
                                Width="30"
                                Margin="0,0,10,0"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Right"
                                ToolTip="Tìm kiếm sản phẩm">
                                <materialDesign:PackIcon 
                                    Kind="Magnify"
                                    Width="30"
                                    Height="30"
                                    Foreground="{StaticResource Black2}" />
                            </Button>
                        </Grid>
                        <StackPanel 
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Height="45"
                            Margin="0,0,20,0">
                            <Grid 
                                Height="45"
                                Width="220"
                                Style="{StaticResource DropShadow}">
                                <Rectangle 
                                    Fill="{DynamicResource White}"
                                    RadiusY="4"
                                    RadiusX="4"
                                    Panel.ZIndex="-1" />
                                <ComboBox 
                                    x:Name="cboFilterType"
                                    materialDesign:ComboBoxAssist.ClassicMode="True"
                                    materialDesign:HintAssist.Hint="Loại sản phẩm"
                                    Height="40"
                                    FontSize="18"
                                    Width="200"
                                    BorderThickness="0"
                                    Padding="10,0,0,0"
                                    ItemsSource="{Binding ItemSourceGoodsType_Filter}"
                                    SelectedItem="{Binding SelectedGoodsType_Filter}"
                                    DisplayMemberPath="Name"
                                    VerticalContentAlignment="Center"
                                    HorizontalContentAlignment="Left"
                                    FontWeight="SemiBold"
                                    BorderBrush="{StaticResource Black2}"
                                    Background="{StaticResource White}">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                            <i:InvokeCommandAction Command="{Binding SelectionChangedGoodsTypeCommand}"
                                                                   CommandParameter="{Binding ElementName=wdMain}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </ComboBox>
                            </Grid>
                            <Grid 
                                Margin="20,0,0,0"
                                Height="45"
                                Width="220"
                                Style="{StaticResource DropShadow}">
                                <Rectangle 
                                    Fill="{DynamicResource White}"
                                    RadiusY="4"
                                    RadiusX="4"
                                    Panel.ZIndex="-1" />
                                <ComboBox
                                    x:Name="cboSortGoods"
                                    materialDesign:ComboBoxAssist.ClassicMode="True"
                                    materialDesign:HintAssist.Hint="Sắp xếp"
                                    Height="40"
                                    FontSize="18"
                                    Width="200"
                                    BorderThickness="0"
                                    Padding="10,0,0,0"
                                    VerticalContentAlignment="Center"
                                    HorizontalContentAlignment="Left"
                                    FontWeight="SemiBold"
                                    BorderBrush="{StaticResource Black2}" 
                                    Background="{StaticResource White}">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                            <i:InvokeCommandAction Command="{Binding SortListGoodsCommand}"
                                                                   CommandParameter="{Binding ElementName=wdMain}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                    <ComboBoxItem Content="Theo tên A-&gt;Z"/>
                                    <ComboBoxItem Content="Theo tên Z-&gt;A"/>
                                    <ComboBoxItem Content="Giá bán tăng"/>
                                    <ComboBoxItem Content="Giá bán giảm"/>
                                    <ComboBoxItem Content="Giá mua tăng"/>
                                    <ComboBoxItem Content="Giá mua giảm"/>
                                </ComboBox>
                            </Grid>
                        </StackPanel>
                    </Grid>
                    <Border
                        Grid.Row="1"
                        CornerRadius="4,4,0,0"
                        BorderThickness="1"
                        Height="40" 
                        BorderBrush="{StaticResource Primary}" 
                        Background="{StaticResource Primary}" 
                        Margin="20,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="3*"/>
                                <ColumnDefinition Width="2*"/>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock 
                                Text="Mã SP" 
                                Grid.Column="0"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock 
                                Grid.Column="1"
                                Text="Tên sản phẩm" 
                                Style="{StaticResource TextHeader}"
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0"/>
                            <TextBlock
                                Grid.Column="2" 
                                Text="Loại sản phẩm" 
                                Style="{StaticResource TextHeader}"
                                HorizontalAlignment="Left"
                                Margin="10,0,0,0" />
                            <TextBlock 
                                Grid.Column="3"
                                Text="Đơn vị" 
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock 
                                Grid.Column="4" 
                                Text="Tồn kho" 
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock 
                                Grid.Column="5" 
                                Text="Giá nhập" 
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock 
                                Grid.Column="6" 
                                 Text="Giá bán" 
                                Style="{StaticResource TextHeader}"/>
                        </Grid>
                    </Border>
                    <Border 
                        Grid.Row="2" 
                        BorderBrush="{DynamicResource Light}"
                        CornerRadius="0,0,4,4"
                        BorderThickness="2,0,2,2" 
                        Margin="20,0,20,3">
                        <StackPanel
                            x:Name="stkGoods" />
                    </Border>
                    <StackPanel
                        Grid.Row="3"
                        Orientation="Horizontal"
                        VerticalAlignment="Center" 
                        HorizontalAlignment="Right" 
                        Margin="0,0,20,0">
                        <TextBlock 
                            x:Name="txtNumOfGoods"
                            Style="{StaticResource Text}"
                            Margin="0,0,40,0"/>
                        <Button 
                            x:Name="btnPrePageGoods" 
                            Margin="8,0"
                            ToolTip="Trang trước"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding PreviousPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronLeft" 
                                VerticalAlignment="Center" 
                                HorizontalAlignment="Center"/>
                        </Button>
                        <Button
                            x:Name="btnNextPageGoods" 
                            Margin="8,0,0,0" 
                            ToolTip="Trang tiếp theo"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding NextPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronRight" 
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                        </Button>
                    </StackPanel>
                </Grid>
            </Grid>
            <Grid
                x:Name="grdBill"
                Grid.Row="1"
                DataContext="{StaticResource BillVM}"
                Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Grid 
                    Grid.Row="1"
                    Margin="20,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="550"/>
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid
                        Grid.Column="0"
                        Style="{StaticResource DropShadow}" 
                        Margin="0,0,0,10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="3"
                            Panel.ZIndex="-1" />
                        <StackPanel
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,0,20,0" 
                            Height="40">
                            <DatePicker 
                                x:Name="dpStartDateBill"
                                SelectedDateFormat="Short"
                                materialDesign:TextFieldAssist.TextFieldCornerRadius="2"
                                materialDesign:TextFieldAssist.HasFilledTextField="False"
                                materialDesign:HintAssist.IsFloating="True"
                                materialDesign:HintAssist.Hint="Từ ngày"
                                Width="140"
                                BorderBrush="{StaticResource Gray1}"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Gray1}" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center"
                                Padding="10,0" 
                                VerticalAlignment="Center"
                                Margin="0,0,20,0"
                                FirstDayOfWeek="Monday" 
                                Height="40"
                                Style="{StaticResource MaterialDesignOutlinedDatePicker}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectedDateChanged">
                                        <i:InvokeCommandAction Command="{Binding LoadBillCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </DatePicker>
                            <DatePicker 
                                x:Name="dpEndDateBill"
                                SelectedDateFormat="Short"
                                materialDesign:TextFieldAssist.TextFieldCornerRadius="2"
                                materialDesign:TextFieldAssist.HasFilledTextField="False"
                                materialDesign:HintAssist.IsFloating="True"
                                materialDesign:HintAssist.Hint="Đến ngày"
                                Width="140"
                                BorderBrush="{StaticResource Gray1}"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="{StaticResource Gray1}" 
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center"
                                Padding="10,0" 
                                VerticalAlignment="Center"
                                Margin="0"
                                FirstDayOfWeek="Monday" 
                                Height="40"
                                Style="{StaticResource MaterialDesignOutlinedDatePicker}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectedDateChanged">
                                        <i:InvokeCommandAction Command="{Binding LoadBillCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </DatePicker>
                        </StackPanel>
                        <Border
                            CornerRadius="4,4,0,0"
                            BorderThickness="1"
                            Grid.Row="1" 
                            Margin="20,0"
                            Height="40" 
                            VerticalAlignment="Top" 
                            BorderBrush="{StaticResource Primary}" 
                            Background="{StaticResource Primary}">
                            <Grid
                                Margin="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80" />
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="10" />
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    Text="Mã HĐ" 
                                    Grid.Column="0"
                                    FontSize="16"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Khách hàng" 
                                    FontSize="16"
                                    Grid.Column="1"
                                    Style="{StaticResource TextHeader}"
                                    HorizontalAlignment="Left"
                                    Margin="10,0,0,0"/>
                                <TextBlock
                                    Text="Người lập" 
                                    FontSize="16"
                                    Grid.Column="2"
                                    Style="{StaticResource TextHeader}"
                                    HorizontalAlignment="Left"
                                    Margin="10,0,0,0" />
                                <TextBlock
                                    Text="Tổng tiền" 
                                    FontSize="16"
                                    Grid.Column="3"
                                    Style="{StaticResource TextHeader}"/>
                            </Grid>
                        </Border>
                        <Border
                            Grid.Row="2"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="0,0,4,4"
                            BorderThickness="2,0,2,2" 
                            Margin="20,0,20,20">
                            <ScrollViewer 
                                Style="{StaticResource FavsScrollViewer}"
                                VerticalScrollBarVisibility="Auto" 
                                HorizontalScrollBarVisibility="Disabled">
                                <StackPanel 
                                    x:Name="stkBill"/>
                            </ScrollViewer>
                        </Border>
                    </Grid>
                    <Grid
                        Grid.Column="1" 
                        Style="{StaticResource DropShadow}" 
                        Margin="20,0,0,10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60"/>
                            <RowDefinition Height="180"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="4"
                            Panel.ZIndex="-1" />
                        <StackPanel
                            Orientation="Horizontal">
                            <materialDesign:PackIcon 
                                Kind="FileDocumentBoxMultipleOutline"
                                Foreground="{StaticResource Primary}"
                                Width="32"
                                Height="32"
                                VerticalAlignment="Center" 
                                Margin="20,0,0,0" />
                            <TextBlock 
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0"
                                TextWrapping="Wrap"
                                Foreground="{StaticResource Primary}"
                                Text="Mã hóa đơn: "
                                VerticalAlignment="Center"
                                FontSize="22"
                                FontWeight="Bold" />
                            <TextBlock 
                                x:Name="txbIdBill"
                                Text="{Binding Path=IdBill, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                HorizontalAlignment="Left"
                                Margin="10,0,0,0"
                                TextWrapping="Wrap"
                                Foreground="{StaticResource Primary}"
                                VerticalAlignment="Center"
                                FontSize="22"
                                FontWeight="Bold" />
                        </StackPanel>
                        <Button
                            x:Name="btnPrintBill"
                            Content="In hoá đơn"
                            ToolTip="In hoá đơn"
                            IsEnabled="False"
                            Style="{StaticResource PrimaryButton}" 
                            Command="{Binding PrintBillCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            Height="35" 
                            HorizontalAlignment="Right" 
                            Margin="0,0,20,0"/>
                        <Grid
                            Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Rectangle 
                                Grid.ColumnSpan="2"
                                Height="2"
                                VerticalAlignment="Top"
                                Fill="{DynamicResource Light}" Margin="20,0" />
                            <TextBlock 
                                HorizontalAlignment="Left"
                                Margin="20,10,0,0"
                                TextWrapping="Wrap"
                                Foreground="{StaticResource Primary}"
                                Text="Thông tin hóa đơn "
                                VerticalAlignment="Top"
                                FontSize="20"
                                FontWeight="Bold" />
                            <StackPanel
                                VerticalAlignment="Top" 
                                Margin="20,50,10,0">
                                <Grid 
                                    Margin="0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Khách hàng:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbCustomerNameBill"
                                        Style="{StaticResource Text}"
                                        Text="{Binding Path=CustomerName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        HorizontalAlignment="Right"
                                        FontSize="18"
                                        Width="160" 
                                        FlowDirection="RightToLeft" />
                                </Grid>
                                <Grid 
                                    Margin="0,15,0,0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="SĐT:"
                                        FontSize="18" />
                                    <TextBlock 
                                        x:Name="txbCustomerPhoneBill"
                                        Style="{StaticResource Text}"
                                        Text="{Binding Path=CustomerPhoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel
                                Grid.Column="1"
                                VerticalAlignment="Top" 
                                Margin="10,50,10,0">
                                <Grid 
                                    Margin="0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Ngày lập:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbDateBill"
                                        Style="{StaticResource Text}"
                                        Text="{Binding Path=InvoiceDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18"/>
                                </Grid>
                                <Grid 
                                    Margin="0,15,0,0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Người lập:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbEmployeeNameBill"
                                        Style="{StaticResource Text}"
                                        Text="{Binding Path=EmployeeName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18"
                                        Width="180"
                                        FlowDirection="RightToLeft" />
                                </Grid>
                                <Grid 
                                    Margin="0,15,0,0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Tổng tiền:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbTotalBill"
                                        Style="{StaticResource Text}"
                                        Text="{Binding Path=Total, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18"/>
                                </Grid>
                            </StackPanel>
                        </Grid>
                        <Border
                            CornerRadius="4,4,0,0"
                            BorderThickness="1"
                            Grid.Row="2" 
                            Margin="20,0"
                            Height="40" 
                            VerticalAlignment="Top" 
                            BorderBrush="{StaticResource Primary}" 
                            Background="{StaticResource Primary}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60" />
                                    <ColumnDefinition Width="2*" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="10"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    Text="STT" 
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Tên sản phẩm" 
                                    Grid.Column="1"
                                    Style="{StaticResource TextHeader}"
                                    Margin="20,0,10,0" 
                                    HorizontalAlignment="Left" />
                                <TextBlock
                                    Text="Đơn giá" 
                                    Grid.Column="2"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Số lượng" 
                                    Grid.Column="3"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Thành tiền" 
                                    Grid.Column="4"
                                    Style="{StaticResource TextHeader}"/>
                            </Grid>
                        </Border>
                        <Border
                            Grid.Row="3"
                            Margin="20,0,20,20"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="0,0,4,4"
                            BorderThickness="2,0,2,2" >
                            <ScrollViewer 
                                Style="{StaticResource FavsScrollViewer}"
                                VerticalScrollBarVisibility="Auto" 
                                HorizontalScrollBarVisibility="Disabled" >
                                <StackPanel 
                                    x:Name="stkBillInfo"/>
                            </ScrollViewer>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                x:Name="grdCustomer"
                Grid.Row="1"
                DataContext="{StaticResource CustomerVM}"
                Visibility="Collapsed" >
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadCustomerCommand}" 
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <StackPanel
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    VerticalAlignment="Center" 
                    Margin="0,0,20,0">
                    <Button
                        Style="{StaticResource GreenButton}"
                        Command="{Binding OpenMembershipWindowCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Content="Thêm HTV"
                        ToolTip="Quản lý hạng thành viên"
                        Width="160"
                        Margin="0,0,20,0"/>
                    <Button
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding ExportExcelCommand}"
                        Content="Xuất excel"
                        ToolTip="Xuất danh sách khách hàng"
                        Width="160"
                        Margin="0,0,20,0"/>
                    <Button
                        Style="{StaticResource GreenButton}"
                        Command="{Binding OpenAddCustomerWinDowCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Content="Thêm khách hàng"
                        ToolTip="Thêm khách hàng"
                        Padding="0"
                        Width="160"/>
                </StackPanel>
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="320"/>
                        <ColumnDefinition Width="2.5*"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel>
                        <Grid
                            Background="{StaticResource White}"
                            Height="160" 
                            Style="{StaticResource DropShadow}" 
                            Margin="20,0,20,20">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Rectangle
                                Grid.RowSpan="1"
                                Fill="{StaticResource Primary}"
                                Height="1" 
                                VerticalAlignment="Bottom" 
                                Margin="20,0"/>
                            <TextBlock
                                Grid.Row="0"
                                Style="{StaticResource Text}"
                                Text="Hạng thành viên" 
                                FontSize="20"
                                FontWeight="Bold"
                                Foreground="{StaticResource Primary}"
                                Margin="20,0,0,0" 
                                HorizontalAlignment="Left"/>
                            <ComboBox      
                                x:Name="cboSelectCustomerIdMembership"
                                ItemsSource="{Binding ItemSourceMembership}"
                                SelectedItem="{Binding FilterMembership}"
                                Grid.Row="1"
                                materialDesign:ComboBoxAssist.ClassicMode="True"
                                materialDesign:HintAssist.Hint="Hạng thành viên"
                                Height="40"
                                FontSize="18"
                                BorderThickness="0"
                                Padding="10,0,0,0"
                                VerticalContentAlignment="Center"
                                HorizontalContentAlignment="Left"
                                DisplayMemberPath="Membership"
                                FontWeight="SemiBold"
                                BorderBrush="{StaticResource Black2}" 
                                Background="{StaticResource White}"                           
                                Margin="30,0" 
                                VerticalAlignment="Center">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding FilterCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                            <Rectangle 
                                RadiusX="4"
                                RadiusY="4"
                                Height="40"
                                Stroke="{StaticResource Gray2}"
                                Grid.Row="1" 
                                VerticalAlignment="Center"
                                Margin="20,0"/>
                        </Grid>
                        <Grid 
                            Height="160"
                            Style="{StaticResource DropShadow}" 
                            VerticalAlignment="Top"
                            Margin="20,0,20,20">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Grid.RowSpan="4"
                                Panel.ZIndex="-1"/>
                            <Rectangle
                                Grid.RowSpan="1"
                                Fill="{StaticResource Primary}"
                                Height="1"
                                VerticalAlignment="Bottom"
                                Margin="20,0"/>
                            <TextBlock
                                Grid.Row="0"
                                Style="{StaticResource HeadingText2}"
                                Text="Tổng tiền mua" 
                                FontSize="20"
                                Margin="20,0,0,0" 
                                HorizontalAlignment="Left" />
                            <ComboBox      
                                x:Name="cboSelectCustomerSort"
                                Grid.Row="1"
                                materialDesign:ComboBoxAssist.ClassicMode="True"
                                materialDesign:HintAssist.Hint="Sắp xếp"
                                Height="40"
                                FontSize="18"
                                BorderThickness="0"
                                Padding="10,0,0,0"
                                VerticalContentAlignment="Center"
                                HorizontalContentAlignment="Left"
                                FontWeight="SemiBold"
                                BorderBrush="{StaticResource Black2}" 
                                Background="{StaticResource White}"                           
                                Margin="30,0" 
                                VerticalAlignment="Center">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding SortCustomerCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ComboBoxItem Content="Từ cao xuống" />
                                <ComboBoxItem Content="Từ thấp lên" />
                            </ComboBox>
                            <Rectangle 
                                RadiusX="4"
                                RadiusY="4"
                                Height="40"
                                Stroke="{StaticResource Gray2}"
                                Grid.Row="1" 
                                VerticalAlignment="Center"
                                Margin="20,0"/>
                        </Grid>
                        <Grid
                            Height="125"
                            Style="{StaticResource DropShadow}" 
                            Margin="20,0,20,20">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Grid.RowSpan="2"
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1"/>
                            <TextBlock
                                Grid.Row="0"
                                Style="{StaticResource Text}"
                                Text="Số lượng khách" 
                                FontSize="20"
                                FontWeight="Bold"
                                Foreground="{StaticResource Primary}"
                                Margin="20,0,0,0" 
                                HorizontalAlignment="Left" />
                            <Rectangle
                                Fill="{StaticResource Primary}"
                                Height="2" 
                                VerticalAlignment="Bottom" 
                                Margin="20,0"/>
                            <TextBlock
                                x:Name="txbCountCustomer"
                                Grid.Row="1"
                                Style="{StaticResource Text}"
                                MaxWidth="200"
                                FontSize="24"
                                Margin="20,0,0,0"
                                HorizontalAlignment="Left"/>
                        </Grid>
                        <Grid
                            Height="125"
                            Style="{StaticResource DropShadow}" 
                            Margin="20,10,20,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="60"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Rectangle 
                                Grid.RowSpan="2"
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <TextBlock
                                Grid.Row="0"
                                Style="{StaticResource Text}"
                                Text="Tổng doanh thu" 
                                FontSize="20"
                                FontWeight="Bold"
                                Foreground="{StaticResource Primary}"
                                Margin="20,0,0,0" 
                                HorizontalAlignment="Left" />
                            <Rectangle
                                Fill="{StaticResource Primary}"
                                Height="2"
                                VerticalAlignment="Bottom" 
                                Margin="20,0"/>
                            <TextBlock
                                x:Name="txbCountAllPrice"
                                Grid.Row="1"
                                Style="{StaticResource Text}"
                                MaxWidth="200"
                                FontSize="24"
                                Margin="20,0,0,0"
                                HorizontalAlignment="Left"/>
                        </Grid>
                    </StackPanel>
                    <Grid 
                        Grid.Column="1"
                        Style="{StaticResource DropShadow}" 
                        Margin="0,0,20,20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80"/>
                            <RowDefinition />
                            <RowDefinition Height="50"/>
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="3"
                            Panel.ZIndex="-1" />
                        <Grid
                            Grid.Row="0"
                            Margin="20,20,0,0" 
                            Height="46" 
                            Width="320"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Left" 
                            VerticalAlignment="Top">
                            <TextBox 
                                Grid.Row="0"
                                x:Name="txtSearchCustomer"
                                materialDesign:HintAssist.Hint="Tìm khách hàng" 
                                FontSize="18" 
                                BorderThickness="0" 
                                MaxLines="1"
                                Margin="12,0" 
                                FontWeight="Medium" 
                                Height="40" 
                                HorizontalContentAlignment="Left" 
                                VerticalContentAlignment="Center"
                                Foreground="{DynamicResource Black1}" 
                                SelectionBrush="{DynamicResource Primary}"
                                Padding="2,0,0,0"
                                VerticalAlignment="Center" />
                            <Button 
                                Grid.Row="0"
                                IsDefault="True"
                                Command="{Binding FindCustomerCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Height="30"
                                Width="30"
                                Margin="0,0,10,0"
                                Background="{x:Null}"
                                BorderBrush="{x:Null}"
                                VerticalAlignment="Center"
                                FocusVisualStyle="{x:Null}"
                                HorizontalAlignment="Right"
                                Padding="0">
                                <materialDesign:PackIcon 
                                    Kind="Magnify" 
                                    Foreground="{StaticResource Black2}"
                                    Height="26"
                                    Width="26" 
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"/>
                            </Button>
                            <Rectangle 
                                Grid.Row="0"
                                Fill="{DynamicResource White}" 
                                RadiusY="4" 
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                        </Grid>
                        <Border
                            CornerRadius="4,4,0,0"
                            BorderThickness="1"
                            Grid.Row="1" 
                            Margin="20,0"
                            Height="40" 
                            VerticalAlignment="Top" 
                            BorderBrush="{StaticResource Primary}" 
                            Background="{StaticResource Primary}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="2.5*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="2.5*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    Text="Mã KH" 
                                    Grid.Column="0"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Họ tên" 
                                    Grid.Column="1"
                                    Style="{StaticResource TextHeader}"
                                    HorizontalAlignment="Left"
                                    Margin="20,0,0,0"/>
                                <TextBlock
                                    Text="SĐT" 
                                    Grid.Column="2"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Địa chỉ" 
                                    Grid.Column="3"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="Tổng tiền mua" 
                                    Grid.Column="4"
                                    Style="{StaticResource TextHeader}"/>
                                <TextBlock
                                    Text="HTV" 
                                    Grid.Column="5"
                                    Style="{StaticResource TextHeader}"/>
                            </Grid>
                        </Border>
                        <Border
                            Grid.Row="1"
                            BorderBrush="{StaticResource Light}"
                            BorderThickness="2,0,2,2"
                            CornerRadius="0,0,4,4"
                            Margin="20,40,20,6" >
                            <Grid>
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Loaded">
                                        <i:InvokeCommandAction Command="{Binding LoadCustomerCommand}"
                                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <StackPanel 
                                    x:Name="stkCustomer" />
                            </Grid>
                        </Border>
                        <StackPanel
                            Grid.Row="2"
                            Orientation="Horizontal"
                            VerticalAlignment="Center" 
                            HorizontalAlignment="Right" 
                            Margin="0,0,20,0">
                            <TextBlock 
                                x:Name="txtNumOfCus"
                                Style="{StaticResource Text}"
                                Margin="0,0,40,0"/>
                            <Button 
                                x:Name="btnPrePageCus"
                                Margin="8,0"
                                ToolTip="Trang trước"
                                Style="{StaticResource PaginationButton}"
                                Command="{Binding GoToPreviousPageCommandCus}"
                                CommandParameter="{Binding ElementName=wdMain}">
                                <materialDesign:PackIcon 
                                    Width="26"
                                    Height="28"
                                    Kind="ChevronLeft"  />
                            </Button>
                            <Button 
                                x:Name="btnNextPageCus"
                                Margin="8,0,0,0" 
                                ToolTip="Trang tiếp theo"
                                Style="{StaticResource PaginationButton}"
                                Command="{Binding GoToNextPageCommandCus}"
                                CommandParameter="{Binding ElementName=wdMain}">
                                <materialDesign:PackIcon 
                                    Width="26"
                                    Height="28"
                                    Kind="ChevronRight" />
                            </Button>
                        </StackPanel>
                    </Grid>
                </Grid>
            </Grid>
            <Grid 
                x:Name="grdService"
                Grid.Row="1"
                Visibility="Collapsed"
                DataContext="{StaticResource ServiceVM}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="90" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <i:Interaction.Triggers>
                    <i:EventTrigger 
                        EventName="Loaded">
                        <i:InvokeCommandAction 
                            Command="{Binding LoadServiceCommand}"
                            CommandParameter="{Binding ElementName=wdMain}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <StackPanel 
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Margin="0,0,20,0"
                    Orientation="Horizontal">
                    <Button 
                        x:Name="btnExportService"
                        Style="{StaticResource PrimaryButton}"
                        Content="Xuất excel"
                        ToolTip="Xuất danh sách dịch vụ"
                        Height="45"
                        Command="{Binding ExportExcelCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Margin="0,0,20,0"
                        Width="160" />
                    <Button 
                        x:Name="btnRestoreService"
                        Content="Khôi phục dữ liệu"
                        ToolTip="Khôi phục dữ liệu đã xóa"
                        Height="45"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding RestoreServiceCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        Margin="0,0,20,0"
                        Width="160"/>
                    <Button 
                        x:Name="btnAddService"
                        Content="Thêm dịch vụ"
                        ToolTip="Thêm dịch vụ mới"
                        Height="45"
                        Style="{StaticResource GreenButton}"
                        Command="{Binding OpenAddServiceWinDowCommand}"
                        CommandParameter="{Binding ElementName=wdMain}"
                        FontSize="20"
                        Width="160" />
                </StackPanel>
                <Grid 
                    Grid.Row="1"
                    Style="{StaticResource DropShadow}"
                    Margin="20,0,20,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="80" />
                        <RowDefinition Height="40" />
                        <RowDefinition />
                        <RowDefinition Height="50" />
                    </Grid.RowDefinitions>
                    <Rectangle 
                        Fill="{DynamicResource White}"
                        RadiusY="4"
                        RadiusX="4"
                        Grid.RowSpan="4"
                        Panel.ZIndex="-1" />
                    <Grid>
                        <Grid 
                            x:Name="grdFindService"
                            Margin="10,0,0,0"
                            Height="46"
                            Width="400"
                            Style="{StaticResource DropShadow}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center">
                            <Rectangle 
                                Fill="{DynamicResource White}"
                                RadiusY="4"
                                RadiusX="4"
                                Panel.ZIndex="-1" />
                            <TextBox 
                                x:Name="txtSearchService"
                                materialDesign:HintAssist.Hint="Tìm theo tên sản phẩm"
                                FontSize="16"
                                BorderThickness="0"
                                MaxLines="1"
                                Margin="12,0,40,0"
                                FontWeight="SemiBold"
                                Height="40"
                                VerticalAlignment="Center"
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Center"
                                Padding="2,0,0,0"/>
                            <Button 
                                IsDefault="True"
                                Style="{StaticResource TransperantButton}"
                                Command="{Binding FindServiceCommand}"
                                CommandParameter="{Binding ElementName=wdMain}"
                                Height="30"
                                Width="30"
                                Margin="0,0,10,0"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Right">
                                <materialDesign:PackIcon 
                                    Kind="Magnify"
                                    Width="30"
                                    Height="30"
                                    Foreground="{StaticResource Black2}" />
                            </Button>
                        </Grid>
                        <StackPanel 
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Height="45"
                            Margin="0,0,20,0">
                            <Grid 
                                x:Name="grdFilterType"
                                Margin="0"
                                Height="45"
                                Width="210"
                                Style="{StaticResource DropShadow}">
                                <Rectangle 
                                    Fill="{DynamicResource White}"
                                    RadiusY="4"
                                    RadiusX="4"
                                    Panel.ZIndex="-1" />
                                <ComboBox 
                                    x:Name="cboSelectFilter"
                                    materialDesign:ComboBoxAssist.ClassicMode="True"
                                    materialDesign:HintAssist.Hint="Lọc"
                                    Height="40"
                                    FontSize="18"
                                    Width="200"
                                    BorderThickness="0"
                                    Padding="10,0,0,0"
                                    Margin="5,0,5,3"
                                    VerticalContentAlignment="Center"
                                    HorizontalContentAlignment="Left"
                                    FontWeight="SemiBold"
                                    BorderBrush="{StaticResource Black2}"
                                    Background="{StaticResource White}"
                                    VerticalAlignment="Bottom">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                            <i:InvokeCommandAction Command="{Binding FilterServiceCommand}"
                                                                   CommandParameter="{Binding ElementName=wdMain}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                    <ComboBoxItem Content="Dừng hoạt động" />
                                    <ComboBoxItem Content="Đang hoạt động" />
                                    <ComboBoxItem Content="Tất cả" />
                                </ComboBox>
                            </Grid>
                            <Grid 
                                x:Name="grdFilter"
                                Margin="30,0,0,0"
                                Height="45"
                                Width="240"
                                Style="{StaticResource DropShadow}">
                                <Rectangle 
                                    Fill="{DynamicResource White}"
                                    RadiusY="4"
                                    RadiusX="4"
                                    Panel.ZIndex="-1" />
                                <ComboBox 
                                    x:Name="cboSelectSort"
                                    materialDesign:ComboBoxAssist.ClassicMode="True"
                                    materialDesign:HintAssist.Hint="Sắp xếp"
                                    Height="40"
                                    FontSize="18"
                                    BorderThickness="0"
                                    Padding="10,0,0,0"
                                    Margin="5,0,5,3"
                                    VerticalContentAlignment="Center"
                                    HorizontalContentAlignment="Left"
                                    FontWeight="SemiBold"
                                    BorderBrush="{StaticResource Black2}"
                                    Background="{StaticResource White}"
                                    VerticalAlignment="Bottom">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                            <i:InvokeCommandAction Command="{Binding SortServiceCommand}"
                                                                   CommandParameter="{Binding ElementName=wdMain}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                    <ComboBoxItem Content="Sắp xếp theo tên A-&gt;Z" />
                                    <ComboBoxItem Content="Sắp xếp theo tên Z-&gt;A" />
                                    <ComboBoxItem Content="Sắp xếp theo đơn giá tăng dần" />
                                    <ComboBoxItem Content="Sắp xếp theo đơn giá giảm dần" />
                                </ComboBox>
                            </Grid>
                        </StackPanel>
                    </Grid>
                    <Border
                        CornerRadius="4,4,0,0"
                        BorderThickness="1"
                        Grid.Row="1" 
                        Margin="20,0"
                        Height="40" 
                        VerticalAlignment="Top" 
                        BorderBrush="{StaticResource Primary}" 
                        Background="{StaticResource Primary}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="140" />
                                <ColumnDefinition />
                                <ColumnDefinition Width="200" />
                                <ColumnDefinition Width="280" />
                                <ColumnDefinition Width="120" />
                            </Grid.ColumnDefinitions>
                            <TextBlock 
                                Grid.Column="0"
                                Text="Mã dịch vụ"
                                Style="{StaticResource TextHeader}"/>
                            <TextBlock 
                                Grid.Column="1"
                                Style="{StaticResource TextHeader}"
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0"
                                Text="Loại dịch vụ" />
                            <TextBlock 
                                Grid.Column="2"
                                Style="{StaticResource TextHeader}"
                                Text="Đơn giá" />
                            <TextBlock 
                                Grid.Column="3"
                                Style="{StaticResource TextHeader}"
                                Text="Trạng thái"/>
                        </Grid>
                    </Border>
                    <Border
                        Grid.Row="2"
                        BorderBrush="{DynamicResource Light}"
                        CornerRadius="0,0,4,4"
                        BorderThickness="2,0,2,2"
                        Margin="20,0,20,2">
                        <StackPanel
                            x:Name="stkService">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Loaded">
                                    <i:InvokeCommandAction Command="{Binding LoadServiceCommand}"
                                                           CommandParameter="{Binding ElementName=wdMain}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </StackPanel>
                    </Border>
                    <StackPanel 
                        Grid.Row="3"
                        Orientation="Horizontal"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Right"
                        Margin="0,0,20,0">
                        <TextBlock 
                            x:Name="txtNumOfService"
                            Style="{StaticResource Text}"
                            Margin="0,0,40,0"/>
                        <Button 
                            x:Name="btnPrePageService"
                            Margin="8,0"
                            ToolTip="Trang trước"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding GoToPreviousPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronLeft"/>
                        </Button>
                        <Button 
                            x:Name="btnNextPageService"
                            Margin="8,0,0,0"
                            ToolTip="Trang tiếp theo"
                            Style="{StaticResource PaginationButton}"
                            Command="{Binding GoToNextPageCommand}"
                            CommandParameter="{Binding ElementName=wdMain}">
                            <materialDesign:PackIcon 
                                Width="26"
                                Height="28"
                                Kind="ChevronRight" />
                        </Button>
                    </StackPanel>
                </Grid>
            </Grid>
            <Grid 
                x:Name="grdBillService"
                Grid.Row="1"
                Visibility="Collapsed"
                DataContext="{StaticResource BillServiceVM}"
                Margin="10,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Loaded">
                        <i:InvokeCommandAction Command="{Binding LoadServiceCommand}"
                                               CommandParameter="{Binding ElementName=wdMain}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Grid
                    Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="560" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid 
                        Style="{StaticResource DropShadow}"
                        Margin="0,0,0,20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60" />
                            <RowDefinition Height="45" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Grid.RowSpan="3"
                            Fill="{DynamicResource White}"
                            RadiusY="4"
                            RadiusX="4"
                            Panel.ZIndex="-1" />
                        <StackPanel 
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,0,10,0" 
                            Height="40">
                            <DatePicker 
                                x:Name="dpStartDateBS"
                                SelectedDateFormat="Short"
                                materialDesign:TextFieldAssist.TextFieldCornerRadius="0"
                                materialDesign:TextFieldAssist.HasFilledTextField="False"
                                materialDesign:HintAssist.IsFloating="True"
                                materialDesign:HintAssist.Hint="Từ ngày"
                                Width="120"
                                Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                                VerticalAlignment="Stretch"
                                BorderBrush="{StaticResource Gray1}"
                                Foreground="{StaticResource Black1}"
                                Padding="8,0"
                                FontSize="16"
                                FontWeight="Medium"
                                Margin="0,0,20,0">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectedDateChanged">
                                        <i:InvokeCommandAction Command="{Binding LoadBillServicesCommand}"
                                                                CommandParameter="{Binding ElementName=wdMain}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </DatePicker>
                            <DatePicker
                                x:Name="dpEndDateBS"
                                SelectedDateFormat="Short"
                                materialDesign:TextFieldAssist.TextFieldCornerRadius="0"
                                materialDesign:TextFieldAssist.HasFilledTextField="False"
                                materialDesign:HintAssist.IsFloating="True"
                                materialDesign:HintAssist.Hint="Đến ngày"
                                Width="120"
                                Style="{StaticResource MaterialDesignOutlinedDatePicker}"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Stretch"
                                BorderBrush="{StaticResource Gray1}"
                                Foreground="{StaticResource Black1}"
                                Padding="8,0"
                                FontSize="16"
                                FontWeight="Medium">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectedDateChanged">
                                        <i:InvokeCommandAction Command="{Binding LoadBillServicesCommand}"
                                                                CommandParameter="{Binding ElementName=wdMain}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </DatePicker>
                        </StackPanel>
                        <Border 
                            CornerRadius="4,4,0,0"
                            BorderThickness="1"
                            Margin="10,0"
                            BorderBrush="{StaticResource Primary}"
                            Background="{StaticResource Primary}"
                            Grid.Row="1">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="70" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="10" />
                                </Grid.ColumnDefinitions>
                                <TextBlock 
                                    Grid.Column="0"
                                    Style="{StaticResource TextHeader}"
                                    Text="Mã"
                                    FontSize="16"/>
                                <TextBlock
                                    Grid.Column="1"
                                    Style="{StaticResource TextHeader}"
                                    HorizontalAlignment="Left"
                                    Margin="20,0,0,0"
                                    Text="Khách hàng"
                                    FontSize="16"/>
                                <TextBlock
                                    Grid.Column="2"
                                    Style="{StaticResource TextHeader}"
                                    Text="Tổng tiền"
                                    FontSize="16"/>
                                <TextBlock 
                                    Grid.Column="3"
                                    Style="{StaticResource TextHeader}"
                                    Text="Còn lại"
                                    FontSize="16" />
                                <TextBlock 
                                    Grid.Column="4"
                                    Style="{StaticResource TextHeader}"
                                    Text="Trạng thái"
                                    FontSize="14" />
                            </Grid>
                        </Border>
                        <Border 
                            Grid.Row="2"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="0,0,4,4"
                            BorderThickness="2,0,2,2" 
                            Margin="10,0,10,10" >
                            <ScrollViewer 
                                x:Name="scvBillService"
                                HorizontalScrollBarVisibility="Disabled"
                                Style="{StaticResource FavsScrollViewer}"
                                VerticalScrollBarVisibility="Auto">
                                <StackPanel
                                    x:Name="stkBillService"/>
                            </ScrollViewer>
                        </Border>
                    </Grid>
                    <Grid
                        x:Name="grdPrintBS"
                        Grid.Column="1" 
                        Style="{StaticResource DropShadow}" 
                        Margin="10,0,10,20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60"/>
                            <RowDefinition Height="180"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Rectangle 
                            Fill="{DynamicResource White}" 
                            RadiusY="4" 
                            RadiusX="4"
                            Grid.RowSpan="4"
                            Panel.ZIndex="-1" />
                        <StackPanel
                            Orientation="Horizontal">
                            <materialDesign:PackIcon 
                                Kind="FileDocumentBoxMultipleOutline"
                                Foreground="{StaticResource Primary}"
                                Width="32"
                                Height="32"
                                VerticalAlignment="Center" 
                                Margin="20,0,0,0" />
                            <TextBlock 
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0"
                                TextWrapping="Wrap"
                                Foreground="{StaticResource Primary}"
                                Text="Mã phiếu dịch vụ: "
                                VerticalAlignment="Center"
                                FontSize="22"
                                FontWeight="Bold" />
                            <TextBlock 
                                x:Name="txbIdBillServiceBS"
                                HorizontalAlignment="Left"
                                Margin="10,0,0,0"
                                TextWrapping="Wrap"
                                Foreground="{StaticResource Primary}"
                                VerticalAlignment="Center"
                                FontSize="22"
                                FontWeight="Bold" />
                        </StackPanel>
                        <Button
                            x:Name="btnPrintBS"
                            Content="In phiếu"
                            ToolTip="In phiếu dịch vụ"
                            DataContext="{StaticResource BillServiceVM}"
                            Command="{Binding PrintBillServiceCommand}"
                            CommandParameter="{Binding ElementName=wdMain}"
                            HorizontalAlignment="Right"
                            IsEnabled="False"
                            Margin="0,0,20,0"
                            FontSize="16"
                            Padding="0"
                            Height="30"
                            Width="100"/>
                        <Grid
                            Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Rectangle 
                                Grid.ColumnSpan="2"
                                Height="2"
                                VerticalAlignment="Top"
                                Fill="{DynamicResource Light}"
                                Margin="20,0" />
                            <TextBlock 
                                HorizontalAlignment="Left"
                                Margin="20,10,0,0"
                                TextWrapping="Wrap"
                                Foreground="{StaticResource Primary}"
                                Text="Thông tin phiếu dịch vụ"
                                VerticalAlignment="Top"
                                FontSize="20"
                                FontWeight="Bold" />
                            <StackPanel
                                VerticalAlignment="Top" 
                                Margin="20,50,10,0">
                                <Grid>
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Ngày lập phiếu:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbCreateDateBS"
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Right"
                                        FontSize="18"/>
                                </Grid>
                                <Grid 
                                    Margin="0,15,0,0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Khách hàng:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbNameCustomerBS"
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Right"
                                        FontSize="18"
                                        Width="160" 
                                        FlowDirection="RightToLeft" />
                                </Grid>
                                <Grid 
                                    Margin="0,15,0,0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="SĐT:"
                                        FontSize="18" />
                                    <TextBlock 
                                        x:Name="txbPhoneCustomerBS"
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18"/>
                                </Grid>
                            </StackPanel>
                            <StackPanel
                                Grid.Column="1"
                                VerticalAlignment="Top" 
                                Margin="10,50,10,0">
                                <Grid>
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Tổng cộng"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbTotalBS"
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18"/>
                                </Grid>
                                <Grid 
                                    Margin="0,15,0,0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Trả trước:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbTotalPaidBS"
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18" />
                                </Grid>
                                <Grid 
                                    Margin="0,15,0,0">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Left"
                                        Foreground="{StaticResource Black1}"
                                        Text="Còn lại:"
                                        FontSize="18"/>
                                    <TextBlock 
                                        x:Name="txbRestBS"
                                        Style="{StaticResource Text}"
                                        HorizontalAlignment="Right"
                                        Foreground="{StaticResource Primary}"
                                        FontSize="18"/>
                                </Grid>
                            </StackPanel>
                        </Grid>
                        <Border
                            CornerRadius="4,4,0,0"
                            BorderThickness="1"
                            Grid.Row="2" 
                            Margin="5,0"
                            Height="40" 
                            VerticalAlignment="Top" 
                            BorderBrush="{StaticResource Primary}" 
                            Background="{StaticResource Primary}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="40"/>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="50" />
                                    <ColumnDefinition Width="30" />
                                    <ColumnDefinition Width="10" />
                                </Grid.ColumnDefinitions>
                                <TextBlock 
                                    Text="STT"
                                    Style="{StaticResource TextHeader}"
                                    FontSize="12" />
                                <TextBlock 
                                    Style="{StaticResource TextHeader}"
                                    Grid.Column="1"
                                    Text="Loại dịch vụ"
                                    HorizontalAlignment="Left"
                                    Margin="10,0,0,0"
                                    FontSize="12" />
                                <TextBlock 
                                    Style="{StaticResource TextHeader}"
                                    Grid.Column="2"
                                    Text="Đơn giá"
                                    FontSize="12" />
                                <TextBlock 
                                    Style="{StaticResource TextHeader}"
                                    Text="Đơn giá được tính"
                                    Grid.Column="3"
                                    TextWrapping="Wrap"
                                    TextAlignment="Center"
                                    FontSize="12" />
                                <TextBlock 
                                    Style="{StaticResource TextHeader}"
                                    Grid.Column="4"
                                    Text="Số lượng"
                                    Width="40"
                                    TextAlignment="Center"
                                    TextWrapping="Wrap"
                                    FontSize="12" />
                                <TextBlock 
                                    Style="{StaticResource TextHeader}"
                                    Text="Thành tiền"
                                    Width="40"
                                    TextAlignment="Center"
                                    TextWrapping="Wrap"
                                    Grid.Column="5"
                                    FontSize="12" />
                                <TextBlock 
                                    Style="{StaticResource TextHeader}"
                                    Text="Trả trước"
                                    Width="40"
                                    TextAlignment="Center"
                                    TextWrapping="Wrap"
                                    Grid.Column="6"
                                    FontSize="12" />
                                <TextBlock
                                    Style="{StaticResource TextHeader}"
                                    Text="Còn lại"
                                    Grid.Column="7"
                                    FontSize="12" />
                                <TextBlock 
                                    Style="{StaticResource TextHeader}"
                                    Text="Ngày giao"
                                    Grid.Column="8"
                                    Width="40"
                                    TextAlignment="Center"
                                    TextWrapping="Wrap"
                                    FontSize="12" />
                                <TextBlock
                                    Style="{StaticResource TextHeader}"
                                    Text="Tình trạng"
                                    TextWrapping="Wrap"
                                    Grid.Column="9"
                                    TextAlignment="Center"
                                    FontSize="12" />
                            </Grid>
                        </Border>
                        <Border
                            Grid.Row="3"
                            Margin="5,0,5,10"
                            BorderBrush="{DynamicResource Light}"
                            CornerRadius="0,0,4,4"
                            BorderThickness="2,0,2,2" >
                            <ScrollViewer 
                                Style="{StaticResource FavsScrollViewer}"
                                VerticalScrollBarVisibility="Auto" 
                                HorizontalScrollBarVisibility="Disabled" >
                                <StackPanel 
                                    x:Name="stkBillServiceInfo">
                                </StackPanel>
                            </ScrollViewer>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
            <Grid
                x:Name="grdSetting" 
                Grid.Row="1"   
                Visibility="Collapsed"
                DataContext="{StaticResource RoleVM}">
                <TabControl 
                    x:Name="tcSetting"
                    BorderBrush="{StaticResource Light}"
                    BorderThickness="1"
                    Background="{StaticResource White}">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="Loaded">
                            <i:InvokeCommandAction Command="{Binding LoadCommand}"
                                                   CommandParameter="{Binding ElementName=wdMain}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <TabItem
                        Style="{StaticResource MaterialDesignNavigationRailTabItem}"
                        Header="Phân quyền"
                        FontSize="18"
                        FontWeight="SemiBold"
                        Width="180" 
                        Height="40" 
                        Padding="0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid
                                Style="{StaticResource DropShadow}" 
                                Margin="20,20,10,20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="40"/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Rectangle 
                                    Fill="{DynamicResource White}" 
                                    RadiusY="4" 
                                    RadiusX="4"
                                    Grid.RowSpan="4"
                                    Panel.ZIndex="-1"/>
                                <TextBlock
                                    Text="Danh sách chức vụ" 
                                    Style="{StaticResource HeadingText2}"
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"/>
                                <Border
                                    CornerRadius="4,4,0,0"
                                    BorderThickness="1"
                                    Grid.Row="1" 
                                    Margin="20,0"
                                    Height="40" 
                                    VerticalAlignment="Top" 
                                    BorderBrush="{StaticResource Primary}" 
                                    Background="{StaticResource Primary}" >
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="10"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Text="STT" 
                                            Grid.Column="0"
                                            Style="{StaticResource TextHeader}"/>
                                        <TextBlock
                                            Text="Chức vụ" 
                                            Grid.Column="1"
                                            Style="{StaticResource TextHeader}"
                                            HorizontalAlignment="Left"
                                            Margin="20,0,0,0"/>
                                    </Grid>
                                </Border>
                                <Border
                                    Grid.Row="2"
                                    BorderBrush="{DynamicResource Light}"
                                    CornerRadius="0,0,4,4"
                                    BorderThickness="2,0,2,2" 
                                    Margin="20,0,20,20" >
                                    <ScrollViewer 
                                        Style="{StaticResource FavsScrollViewer}"
                                        VerticalScrollBarVisibility="Auto" 
                                        HorizontalScrollBarVisibility="Disabled">
                                        <StackPanel 
                                            x:Name="stkPosition" 
                                            Background="{StaticResource White}"
                                            VerticalAlignment="Top" />
                                    </ScrollViewer>
                                </Border>
                            </Grid>
                            <Grid
                                Grid.Column="1" 
                                Style="{StaticResource DropShadow}"
                                Margin="10,20,20,20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="40"/>
                                    <RowDefinition/>
                                    <RowDefinition Height="80"/>
                                </Grid.RowDefinitions>
                                <Rectangle 
                                    Fill="{DynamicResource White}" 
                                    RadiusY="4" 
                                    RadiusX="4"
                                    Grid.RowSpan="4"
                                    Panel.ZIndex="-1"/>
                                <TextBlock
                                    Text="Danh sách quyền truy cập" 
                                    Style="{StaticResource HeadingText2}"
                                    Margin="20,0,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"/>
                                <Border
                                    CornerRadius="4,4,0,0"
                                    BorderThickness="1"
                                    Grid.Row="1" 
                                    Margin="20,0"
                                    Height="40" 
                                    VerticalAlignment="Top" 
                                    BorderBrush="{StaticResource Primary}" 
                                    Background="{StaticResource Primary}" >
                                    <Grid  Margin="0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="10"/>
                                        </Grid.ColumnDefinitions>
                                        <CheckBox
                                            x:Name="cbCheckAll"
                                            Grid.Column="0"
                                            IsEnabled="False"
                                            Style="{StaticResource MaterialDesignCheckBox}"
                                            HorizontalAlignment="Center" 
                                            materialDesign:CheckBoxAssist.CheckBoxSize="22" >
                                            <CheckBox.Resources>
                                                <!--Unchecked state-->
                                                <SolidColorBrush x:Key="MaterialDesignCheckBoxOff" Color="White"/>
                                                <!--Checked state-->
                                                <SolidColorBrush x:Key="PrimaryHueMidBrush" Color="White"/>
                                            </CheckBox.Resources>
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="Click">
                                                    <i:InvokeCommandAction Command="{Binding CheckAllCommand}"
                                                                           CommandParameter="{Binding ElementName=wdMain}"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </CheckBox>
                                        <TextBlock
                                            Text="Quyền truy cập" 
                                            Grid.Column="1"
                                            Style="{StaticResource TextHeader}"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center" 
                                            Margin="20,0,0,0"/>
                                    </Grid>
                                </Border>
                                <Border
                                    Grid.Row="2"
                                    BorderBrush="{DynamicResource Light}"
                                    CornerRadius="0,0,4,4"
                                    BorderThickness="2,0,2,2" 
                                    Margin="20,0" >
                                    <ScrollViewer 
                                        Style="{StaticResource FavsScrollViewer}"
                                        VerticalScrollBarVisibility="Auto" 
                                        HorizontalScrollBarVisibility="Disabled">
                                        <StackPanel 
                                            x:Name="stkPermission" />
                                    </ScrollViewer>
                                </Border>
                                <Button
                                    x:Name="btnUpdatePermission"
                                    Grid.Row="3"
                                    Style="{StaticResource GreenButton}"
                                    Command="{Binding UpdatePermissionCommand}"
                                    CommandParameter="{Binding ElementName=btnUpdatePermission}"
                                    IsEnabled="False"
                                    Content="Cập nhật"
                                    HorizontalAlignment="Right" 
                                    Width="120" 
                                    Margin="0,0,20,0" 
                                    Height="40"/>
                            </Grid>
                        </Grid>
                    </TabItem>
                    <TabItem
                        Style="{StaticResource MaterialDesignNavigationRailTabItem}"
                        Header="Cài đặt tham số"
                        FontSize="18"
                        FontWeight="SemiBold"
                        Width="180" 
                        Height="40" 
                        Padding="0">
                        <Grid DataContext="{StaticResource SettingVM}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Loaded">
                                    <i:InvokeCommandAction Command="{Binding LoadDefaultCommand}"
                                               CommandParameter="{Binding ElementName=wdMain}"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1.5*"/>
                                <ColumnDefinition Width="2*"/>
                            </Grid.ColumnDefinitions>
                            <Grid
                                Grid.Column="0"
                                Style="{StaticResource DropShadow}"
                                Margin="20,20,10,20">
                                <Rectangle 
                                    Fill="{DynamicResource White}" 
                                    RadiusY="4" 
                                    RadiusX="4"
                                    Grid.RowSpan="4"
                                    Panel.ZIndex="-1"/>
                                <TextBlock
                                    Style="{StaticResource HeadingText2}"
                                    FontSize="24"
                                    Text="Dịch vụ" 
                                    Margin="20,10,0,0" 
                                    VerticalAlignment="Top" />
                                <Rectangle
                                    Fill="{StaticResource Primary}"
                                    Height="2" 
                                    VerticalAlignment="Top" 
                                    Margin="20,50,20,0"/>
                                <Grid 
                                    Margin="20,70,20,0"
                                    VerticalAlignment="Top"
                                    Height="40">
                                    <TextBlock 
                                        Style="{StaticResource Text}"
                                        Text="Tiền cọc tối thiểu (%)"
                                        FontSize="18"
                                        FontWeight="SemiBold"
                                        HorizontalAlignment="Left" />
                                    <Rectangle 
                                        HorizontalAlignment="Right"
                                        Height="40"
                                        Width="120"
                                        RadiusY="4"
                                        RadiusX="4"
                                        Stroke="{StaticResource Gray2}"
                                        Margin="0" />
                                    <TextBox 
                                        x:Name="txtPrepayment"
                                        Cursor="IBeam"
                                        Text="{Binding PrepaymentPercent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        materialDesign:HintAssist.Hint="Tính theo %"
                                        HorizontalAlignment="Right"
                                        Height="40"
                                        Width="100"
                                        FontSize="14"
                                        BorderThickness="0"
                                        MaxLines="1"
                                        Foreground="{StaticResource Black1}"
                                        Margin="0,0,10,0"
                                        HorizontalContentAlignment="Left"
                                        VerticalContentAlignment="Center"
                                        FontWeight="SemiBold">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="PreviewTextInput" >
                                                <ei:CallMethodAction TargetObject="{Binding }" 
                                                                     MethodName="NumberValidationTextBox" />
                                            </i:EventTrigger>
                                            <i:EventTrigger EventName="TextChanged">
                                                <i:InvokeCommandAction Command="{Binding CheckRangeCommand}"
                                                                       CommandParameter="{Binding ElementName=txtPrepayment}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </TextBox>
                                </Grid>
                                <TextBlock
                                    FontSize="16"
                                    Foreground="{StaticResource Gray}"
                                    TextWrapping="Wrap"
                                    Text="* Phần trăm dựa theo tổng số tiền dịch vụ" 
                                    Margin="20,120,20,0" 
                                    VerticalAlignment="Top"/>
                                <Button 
                                    Content="Cập nhật"
                                    ToolTip="Cập nhật"
                                    Style="{StaticResource GreenButton}"
                                    Command="{Binding Update_PrepaymentCommand}"
                                    CommandParameter="{Binding ElementName=wdMain}"
                                    Margin="0,0,140,20"
                                    FontSize="20"
                                    Width="160"
                                    Height="45"
                                    HorizontalAlignment="Right" 
                                    VerticalAlignment="Bottom" />
                                <Button 
                                    Content="Huỷ"
                                    ToolTip="Huỷ"
                                    Style="{StaticResource CancelButton}"
                                    Command="{Binding Undo_PrepaymentCommand}"
                                    CommandParameter="{Binding ElementName=wdMain}"
                                    Margin="0,0,20,20"
                                    Height="45"
                                    Width="100"
                                    HorizontalAlignment="Right" 
                                    VerticalAlignment="Bottom" />
                            </Grid>
                            <Grid
                                Grid.Column="1"
                                Style="{StaticResource DropShadow}"
                                Margin="10,20,20,20">
                                <Rectangle 
                                    Fill="{DynamicResource White}" 
                                    RadiusY="4" 
                                    RadiusX="4"
                                    Grid.RowSpan="4"
                                    Panel.ZIndex="-1"/>
                                <TextBlock
                                    Style="{StaticResource HeadingText2}"
                                    FontSize="24"
                                    Text="Thông tin cửa hàng" 
                                    Margin="20,10,0,0" 
                                    HorizontalAlignment="Left" 
                                    VerticalAlignment="Top"/>
                                <Rectangle
                                    Fill="{StaticResource Primary}"
                                    Height="2" 
                                    VerticalAlignment="Top" 
                                    Margin="20,50,20,0"/>
                                <Grid  
                                    x:Name="grdSelectImage"
                                    Margin="20,80,0,0" 
                                    VerticalAlignment="Top"
                                    Width="140"
                                    Height="160" 
                                    HorizontalAlignment="Left">
                                    <Rectangle 
                                        x:Name="recImage"
                                        StrokeDashArray="4 2" 
                                        Stroke="{StaticResource Primary}" 
                                        StrokeThickness="4" 
                                        RadiusX="4" 
                                        RadiusY="4"/>
                                    <Button 
                                        x:Name="btnSelectImage"
                                        Style="{StaticResource PrimaryButton}"
                                        Height="30" 
                                        Width="100" 
                                        Command="{Binding SelectImageCommand}"
                                        CommandParameter="{Binding ElementName=grdSelectImage}"
                                        materialDesign:ButtonAssist.CornerRadius="2"
                                        ToolTip="Chọn ảnh" 
                                        Content="Chọn ảnh"
                                        FontSize="14"
                                        TabIndex="8"
                                        Margin="0,0,0,12" 
                                        HorizontalAlignment="Center" 
                                        VerticalAlignment="Bottom"/>
                                    <materialDesign:PackIcon  
                                        Kind="FileImageOutline" 
                                        Foreground="{StaticResource Primary}"
                                        Width="64" 
                                        Height="54"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Top"  
                                        Margin="0,20,0,0"/>
                                </Grid>
                                <StackPanel 
                                    Margin="180,80,20,0" 
                                    VerticalAlignment="Top">
                                    <Grid>
                                        <Label 
                                            Style="{StaticResource LabelText}"
                                            Content="Tên cửa hàng"/>
                                        <Rectangle 
                                            HorizontalAlignment="Right"
                                            Width="320"
                                            RadiusY="4"
                                            RadiusX="4"
                                            Stroke="{StaticResource Gray2}"/>
                                        <TextBox 
                                            x:Name="txtStoreName"
                                            Style="{StaticResource TextBox}"
                                            materialDesign:HintAssist.Hint="Tên cửa hàng"
                                            Validation.ErrorTemplate="{StaticResource TextBoxErrorTemplate}"
                                            Width="320">
                                            <TextBox.Text>
                                                <Binding
                                                    Path="StoreName"
                                                    Mode="OneWayToSource"
                                                    UpdateSourceTrigger="PropertyChanged">
                                                    <Binding.ValidationRules>
                                                        <vd:NotNullValidation ErrorMessage="    Vui lòng nhập tên cửa hàng!" />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </TextBox.Text>
                                        </TextBox>
                                    </Grid>
                                    <Grid 
                                        Margin="0,20,0,0">
                                        <Label 
                                            Style="{StaticResource LabelText}"
                                            Content="Địa chỉ"/>
                                        <Rectangle 
                                            HorizontalAlignment="Right"
                                            Width="320"
                                            RadiusY="4"
                                            RadiusX="4"
                                            Stroke="{StaticResource Gray2}"/>
                                        <TextBox 
                                            x:Name="txtStoreAddress"
                                            Style="{StaticResource TextBox}"
                                            materialDesign:HintAssist.Hint="Địa chỉ"
                                            Width="320"
                                            Validation.ErrorTemplate="{StaticResource TextBoxErrorTemplate}">
                                            <TextBox.Text>
                                                <Binding 
                                                    Path="StoreAddress"
                                                    UpdateSourceTrigger="PropertyChanged">
                                                    <Binding.ValidationRules>
                                                        <vd:NotNullValidation ErrorMessage="    Vui lòng nhập địa chỉ cửa hàng!" />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </TextBox.Text>
                                        </TextBox>
                                    </Grid>
                                    <Grid 
                                        Margin="0,20,0,0">
                                        <Label 
                                            Style="{StaticResource LabelText}"
                                            Content="Số điện thoại"/>
                                        <Rectangle 
                                            Width="320"
                                            RadiusY="4"
                                            RadiusX="4"
                                            Stroke="{StaticResource Gray2}" 
                                            HorizontalAlignment="Right"/>
                                        <TextBox 
                                            x:Name="txtStorePhoneNumber"
                                            Style="{StaticResource TextBox}"
                                            materialDesign:HintAssist.Hint="Số điện thoại"
                                            Height="40"
                                            Width="320"
                                            Validation.ErrorTemplate="{StaticResource TextBoxErrorTemplate}">
                                            <TextBox.Text>
                                                <Binding
                                                    Path="PhoneNumber"
                                                    Mode="TwoWay"                                                         
                                                    UpdateSourceTrigger="PropertyChanged">
                                                    <Binding.ValidationRules>
                                                        <vd:NotNullValidation ErrorMessage="    Vui lòng nhập số điện thoại!" />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </TextBox.Text>
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="PreviewTextInput">
                                                    <ei:CallMethodAction TargetObject="{Binding }"
                                                                         MethodName="NumberValidationTextBox" />
                                                </i:EventTrigger>
                                                <i:EventTrigger EventName="PreviewKeyDown">
                                                    <ei:CallMethodAction TargetObject="{Binding }"
                                                                         MethodName="NumberValidationTextBox" />
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </TextBox>
                                    </Grid>
                                    <Grid 
                                        Margin="0,20,0,0">
                                        <Label 
                                            Content="Email"
                                            Style="{StaticResource LabelText}"/>
                                        <Rectangle 
                                            HorizontalAlignment="Right"
                                            Height="40"
                                            Width="320"
                                            RadiusY="4"
                                            RadiusX="4"
                                            Stroke="{StaticResource Gray2}"/>
                                        <TextBox 
                                            x:Name="txtEmail"
                                            Style="{StaticResource TextBox}"
                                            materialDesign:HintAssist.Hint="Email"
                                            Height="40"
                                            Width="320"
                                            Validation.ErrorTemplate="{StaticResource TextBoxErrorTemplate}">
                                            <TextBox.Text>
                                                <Binding 
                                                    Path="Email"
                                                    Mode="TwoWay"                                           
                                                    UpdateSourceTrigger="PropertyChanged">
                                                    <Binding.ValidationRules>
                                                        <vd:NotNullValidation ErrorMessage="    Vui lòng nhập email cửa hàng!" />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </TextBox.Text>
                                        </TextBox>
                                    </Grid>
                                </StackPanel>
                                <Button 
                                    Content="Cập nhật"
                                    Height="45"
                                    Style="{StaticResource GreenButton}"
                                    Command="{Binding Update_StoreInfoCommand}"
                                    CommandParameter="{Binding ElementName=wdMain}"
                                    Margin="0,0,140,20"
                                    FontSize="20"
                                    Width="160"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom" >
                                    <Button.IsEnabled>
                                        <MultiBinding Converter="{StaticResource InverseAndBooleansToBooleanConverter}"
                                                      Mode="TwoWay">
                                            <Binding ElementName="txtStoreName"
                                                     Path="(Validation.HasError)" />
                                            <Binding ElementName="txtStoreAddress"
                                                     Path="(Validation.HasError)" />
                                            <Binding ElementName="txtStorePhoneNumber"
                                                     Path="(Validation.HasError)" />
                                            <Binding ElementName="txtStoreEmail"
                                                     Path="(Validation.HasError)" />
                                        </MultiBinding>
                                    </Button.IsEnabled>
                                </Button>
                                <Button 
                                    Content="Hủy"
                                    ToolTip="Hủy"
                                    Height="45"
                                    Style="{StaticResource CancelButton}"
                                    Command="{Binding Undo_StoreInfoCommand}"
                                    CommandParameter="{Binding ElementName=wdMain}"
                                    Margin="0,0,20,20"
                                    Width="100"
                                    HorizontalAlignment="Right" 
                                    VerticalAlignment="Bottom" />
                            </Grid>
                        </Grid>
                    </TabItem>
                </TabControl>
            </Grid>
        </Grid>
        <Grid 
            x:Name="grdChangeInfo"
            Grid.Column="2"
            Visibility="Collapsed"
            Width="200" 
            Background="{StaticResource White}"
            Style="{StaticResource DropShadow2}"
            HorizontalAlignment="Right" 
            VerticalAlignment="Top" 
            Margin="0,60,20,0">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="LostFocus">
                    <i:InvokeCommandAction Command="{Binding HiddenGridChangeInfoCommand}"
                                           CommandParameter="{Binding ElementName=wdMain}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
            <StackPanel>
                <Button
                    x:Name="btnPersonalInfo"
                    Command="{Binding OpenPersonalInfoWindowCommand}"
                    DataContext="{StaticResource SettingVM}"
                    CommandParameter="{Binding ElementName=wdMain}"
                    Style="{StaticResource NavigationButton}" 
                    Padding="10,0,0,0"
                    Height="50">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon
                            Kind="AccountCircleOutline"
                            VerticalAlignment="Center" 
                            Width="30"
                            Height="30"/>
                        <TextBlock 
                            Text="Cá nhân"
                            FontSize="20"
                            Margin="20,0,0,0"/>
                    </StackPanel>
                </Button>
                <Rectangle
                    Fill="{StaticResource Gray3}"
                    Height="2"/>
                <Button
                    Command="{Binding OpenChangePasswordWindowCommand}"
                    DataContext="{StaticResource SettingVM}"
                    CommandParameter="{Binding ElementName=wdMain}"
                    Style="{StaticResource NavigationButton}" 
                    Padding="10,0,0,0"
                    Height="50" >
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon
                            Kind="KeyOutline"
                            VerticalAlignment="Center" 
                            Width="30"
                            Height="30"/>
                        <TextBlock 
                            Text="Đổi mật khẩu"
                            FontSize="20"
                            Margin="20,0,0,0"/>
                    </StackPanel>
                </Button>
                <Rectangle
                    Fill="{StaticResource Gray3}"
                    Height="2"/>
                <Button
                    DataContext="{StaticResource HomeVM}"
                    Command="{Binding LogOutCommand}"
                    CommandParameter="{Binding ElementName=wdMain}"
                    Style="{StaticResource NavigationButton}" 
                    Padding="10,0,0,0"
                    Height="50">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon
                            Kind="LogoutVariant"
                            VerticalAlignment="Center" 
                            Width="30"
                            Height="30"/>
                        <TextBlock 
                            Text="Đăng xuất"
                            FontSize="20"
                            Margin="20,0,0,0"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>
    </Grid>
</Window>